{"version":3,"sources":["webpack:///./shell/pages/auth/login.vue?bbb6","webpack:///./shell/pages/auth/login.vue?ad5b","webpack:///./shell/components/LocaleSelector.vue","webpack:///shell/components/LocaleSelector.vue","webpack:///./shell/components/LocaleSelector.vue?f4e8","webpack:///./shell/components/LocaleSelector.vue?3f4c","webpack:///./shell/components/LocaleSelector.vue?54d1","webpack:///./shell/components/LocaleSelector.vue?0f75","webpack:///./shell/pages/auth/login.vue?45c4","webpack:///./shell/pages/auth/login.vue","webpack:///shell/pages/auth/login.vue","webpack:///./shell/pages/auth/login.vue?5222","webpack:///./shell/pages/auth/login.vue?1bc9","webpack:///./shell/components/LocaleSelector.vue?4d98"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","render","_vm","this","_c","_self","mode","showLocale","attrs","staticClass","_v","_s","selectedLocaleLabel","slot","staticStyle","showNone","directives","name","rawName","value","expression","on","$event","switchLocale","_e","_l","availableLocales","label","key","selectedOption","localesOptions","staticRenderFns","components","Select","props","type","String","default","computed","_objectSpread","mapGetters","_this","Object","keys","map","t","concat","values","indexOf","length","dev","methods","$store","dispatch","component","content","__esModule","locals","add","vendor","class","hasLoginMessage","errorToDisplay","loggedOut","timedOut","firstLogin","kubectlCmd","hasLocal","showLocal","providers","idx","providerComponents","tag","handleProviderError","ref","model","username","callback","$$v","trim","password","loginLocal","remember","toggleLocal","nonLocalPrompt","showLocaleSelector","layout","LabeledInput","AsyncButton","Checkbox","BrandImage","Banner","InfoBox","CopyCode","Password","LocaleSelector","asyncData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_plSetting$value","_brand","_brand$value","_firstLoginSetting","route","store","drivers","hasOthers","firstLoginSetting","plSetting","brand","singleProvider","wrap","_context","prev","next","redirect","sent","sortBy","x","id","includes","find","removeObject","MANAGEMENT","SETTING","opt","load","_ALL_IF_AUTHED","url","redirectUnauthorized","getters","FIRST_LOGIN","PL","BRAND","t0","getVendor","setVendor","getBrand","setBrand","abrupt","query","LOCAL","_FLAGGED","process","stop","data","_ref2","$cookies","get","USERNAME","parseJSON","product","getProduct","$route","TIMED_OUT","LOGGED_OUT","err","customLoginError","provider","displayName","errorMessage","_this$err","LOGIN_ERRORS","CLIENT_UNAUTHORIZED","CLIENT","SERVER","msg","_this$customLoginErro","_this$customLoginErro2","showMessage","message","created","configType","fetch","_this2","_callee2","_yield$_this2$$store$","_context2","BANNERS","JSON","parse","loginError","mounted","_this3","$nextTick","focusSomething","_this4","$router","applyQuery","_defineProperty","_elem","elem","$refs","focus","select","buttonCb","_this5","_callee3","_user$","user","_context3","body","NORMAN","USER","_MULTI","set","encode","maxAge","path","sameSite","secure","remove","loadPlugins","app","$plugin","mustChangePassword","replace"],"mappings":"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","file":"js/pages/auth/login.c5e7c6ce.js","sourcesContent":["export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=7ee29d9b&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".login[data-v-7ee29d9b]{overflow:hidden}.login .row[data-v-7ee29d9b]{align-items:center}.login .landscape[data-v-7ee29d9b]{height:100vh;margin:0;-o-object-fit:cover;object-fit:cover}.login .login-welcome[data-v-7ee29d9b]{margin:0}.login .login-messages[data-v-7ee29d9b]{display:flex;justify-content:center;align-items:center}.login .login-messages .banner[data-v-7ee29d9b]{margin:5px}.login .login-messages h4[data-v-7ee29d9b]{margin:0}.login .login-messages--hasContent[data-v-7ee29d9b]{min-height:70px}.login .login-messages .banner[data-v-7ee29d9b],.login .login-messages .text-error[data-v-7ee29d9b]{max-width:80%}.login .first-login-message .banner[data-v-7ee29d9b]{margin-bottom:0;border-left:0}.login .first-login-message .banner[data-v-7ee29d9b] code{font-size:12px;padding:0}.gutless[data-v-7ee29d9b]{height:100vh}.gutless>.span-6[data-v-7ee29d9b]{overflow-y:auto;display:flex;flex-direction:column;height:100%;place-content:center}.locale-elector[data-v-7ee29d9b]{position:absolute;bottom:30px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.mode === 'login')?_c('div',[(_vm.showLocale)?_c('div',[_c('v-popover',{attrs:{\"popover-class\":\"localeSelector\",\"placement\":\"top\",\"trigger\":\"click\"}},[_c('a',{staticClass:\"locale-chooser\",attrs:{\"data-testid\":\"locale-selector\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.selectedLocaleLabel)+\"\\n          \"),_c('i',{staticClass:\"icon icon-fw icon-sort-down\"})]),_vm._v(\" \"),_c('template',{slot:\"popover\"},[_c('ul',{staticClass:\"list-unstyled dropdown\",staticStyle:{\"margin\":\"-1px\"}},[(_vm.showNone)?_c('li',{directives:[{name:\"t\",rawName:\"v-t\",value:('locale.none'),expression:\"'locale.none'\"}],staticClass:\"hand\",on:{\"click\":function($event){return _vm.switchLocale('none')}}}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.availableLocales),function(label,name){return _c('li',{key:name,staticClass:\"hand\",on:{\"click\":function($event){return _vm.switchLocale(name)}}},[_vm._v(\"\\n              \"+_vm._s(label)+\"\\n            \")])})],2)])],2)],1):_vm._e()]):_c('div',[_c('Select',{attrs:{\"value\":_vm.selectedOption,\"options\":_vm.localesOptions},on:{\"input\":function($event){return _vm.switchLocale($event)}}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport Select from '@shell/components/form/Select.vue';\n\nexport default {\n  name: 'LocalSelector',\n\n  components: { Select },\n\n  props: {\n    mode: {\n      type:    String,\n      default: ''\n    },\n  },\n\n  computed: {\n    ...mapGetters('i18n', ['selectedLocaleLabel', 'availableLocales']),\n\n    localesOptions() {\n      return Object.keys(this.availableLocales).map((value) => {\n        return {\n          label: this.t(`locale.${ value }`),\n          value\n        };\n      });\n    },\n\n    selectedOption() {\n      return Object.keys(this.availableLocales)[Object.values(this.availableLocales).indexOf(this.selectedLocaleLabel)];\n    },\n\n    showLocale() {\n      return (this.availableLocales && Object.keys(this.availableLocales).length > 1) || this.dev;\n    },\n\n    showNone() {\n      return !!process.env.dev && this.dev;\n    },\n  },\n\n  methods: {\n    switchLocale($event) {\n      this.$store.dispatch('i18n/switchTo', $event);\n    },\n  }\n};\n</script>\n\n<template>\n  <div>\n    <div v-if=\"mode === 'login'\">\n      <div v-if=\"showLocale\">\n        <v-popover\n          popover-class=\"localeSelector\"\n          placement=\"top\"\n          trigger=\"click\"\n        >\n          <a\n            data-testid=\"locale-selector\"\n            class=\"locale-chooser\"\n          >\n            {{ selectedLocaleLabel }}\n            <i class=\"icon icon-fw icon-sort-down\" />\n          </a>\n          <template slot=\"popover\">\n            <ul\n              class=\"list-unstyled dropdown\"\n              style=\"margin: -1px;\"\n            >\n              <li\n                v-if=\"showNone\"\n                v-t=\"'locale.none'\"\n                class=\"hand\"\n                @click=\"switchLocale('none')\"\n              />\n              <li\n                v-for=\"(label, name) in availableLocales\"\n                :key=\"name\"\n                class=\"hand\"\n                @click=\"switchLocale(name)\"\n              >\n                {{ label }}\n              </li>\n            </ul>\n          </template>\n        </v-popover>\n      </div>\n    </div>\n    <div v-else>\n      <Select\n        :value=\"selectedOption\"\n        :options=\"localesOptions\"\n        @input=\"switchLocale($event)\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.advanced {\n  user-select: none;\n  padding: 0 5px;\n  line-height: 40px;\n  font-size: 15px;\n  font-weight: 500;\n}\n.content {\n  background: var(--nav-active);\n  padding: 10px;\n  margin-top: 6px;\n  border-radius: 4px;\n}\n\n.locale-chooser {\n  cursor: pointer;\n\n  &:hover {\n    text-decoration: none;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./LocaleSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./LocaleSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LocaleSelector.vue?vue&type=template&id=1d201bdb&scoped=true&\"\nimport script from \"./LocaleSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./LocaleSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LocaleSelector.vue?vue&type=style&index=0&id=1d201bdb&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d201bdb\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./LocaleSelector.vue?vue&type=style&index=0&id=1d201bdb&prod&lang=scss&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./LocaleSelector.vue?vue&type=style&index=0&id=1d201bdb&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"723a9a8e\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=7ee29d9b&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"50a7114f\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('main',{staticClass:\"main-layout login\"},[_c('div',{staticClass:\"row gutless mb-20\"},[_c('div',{staticClass:\"col span-6 p-20\"},[_c('p',{staticClass:\"text-center\"},[_vm._v(\"\\n        \"+_vm._s(_vm.t('login.howdy'))+\"\\n      \")]),_vm._v(\" \"),_c('h1',{staticClass:\"text-center login-welcome\"},[_vm._v(\"\\n        \"+_vm._s(_vm.t('login.welcome', {vendor: _vm.vendor}))+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"login-messages\",class:{'login-messages--hasContent': _vm.hasLoginMessage},attrs:{\"data-testid\":\"login__messages\"}},[(_vm.errorToDisplay)?_c('Banner',{attrs:{\"label\":_vm.errorToDisplay,\"color\":\"error\"}}):(_vm.loggedOut)?_c('h4',{staticClass:\"text-success text-center\"},[_vm._v(\"\\n          \"+_vm._s(_vm.t('login.loggedOut'))+\"\\n        \")]):(_vm.timedOut)?_c('h4',{staticClass:\"text-error text-center\"},[_vm._v(\"\\n          \"+_vm._s(_vm.t('login.loginAgain'))+\"\\n        \")]):_vm._e()],1),_vm._v(\" \"),(_vm.firstLogin)?_c('div',{staticClass:\"first-login-message pl-10 pr-10\",class:{'mt-30': !_vm.hasLoginMessage},attrs:{\"data-testid\":\"first-login-message\"}},[_c('t',{attrs:{\"k\":\"setup.defaultPassword.intro\",\"raw\":true}}),_vm._v(\" \"),_c('div',[_c('t',{attrs:{\"k\":\"setup.defaultPassword.dockerPrefix\",\"raw\":true}})],1),_vm._v(\" \"),_c('ul',[_c('li',[_c('t',{attrs:{\"k\":\"setup.defaultPassword.dockerPs\",\"raw\":true}})],1),_vm._v(\" \"),_c('li',[_c('CopyCode',[_vm._v(\"\\n              docker logs \"),_c('u',[_vm._v(\"container-id\")]),_vm._v(\" 2>&1 | grep \\\"Bootstrap Password:\\\"\\n            \")])],1)]),_vm._v(\" \"),_c('div',[_c('t',{attrs:{\"k\":\"setup.defaultPassword.dockerSuffix\",\"raw\":true}})],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('div',[_c('t',{attrs:{\"k\":\"setup.defaultPassword.helmPrefix\",\"raw\":true}})],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('CopyCode',[_vm._v(\"\\n          \"+_vm._s(_vm.kubectlCmd)+\"\\n        \")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('div',[_c('t',{attrs:{\"k\":\"setup.defaultPassword.helmSuffix\",\"raw\":true}})],1)],1):_vm._e(),_vm._v(\" \"),((!_vm.hasLocal || (_vm.hasLocal && !_vm.showLocal)) && _vm.providers.length)?_c('div',{class:{'mt-30': !_vm.hasLoginMessage}},_vm._l((_vm.providers),function(name,idx){return _c(_vm.providerComponents[idx],{key:name,tag:\"component\",staticClass:\"mb-10\",attrs:{\"focus-on-mount\":(idx === 0 && !_vm.showLocal),\"name\":name,\"open\":!_vm.showLocal},on:{\"showInputs\":function($event){_vm.showLocal = false},\"error\":_vm.handleProviderError}})}),1):_vm._e(),_vm._v(\" \"),(_vm.hasLocal)?[(_vm.showLocal)?_c('form',{class:{'mt-30': !_vm.hasLoginMessage}},[_c('div',{staticClass:\"span-6 offset-3\"},[_c('div',{staticClass:\"mb-20\"},[(!_vm.firstLogin)?_c('LabeledInput',{ref:\"username\",attrs:{\"id\":\"username\",\"data-testid\":\"local-login-username\",\"label\":_vm.t('login.username'),\"autocomplete\":\"username\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"username\"}}):_vm._e()],1),_vm._v(\" \"),_c('div',{},[_c('Password',{ref:\"password\",attrs:{\"id\":\"password\",\"data-testid\":\"local-login-password\",\"label\":_vm.t('login.password'),\"autocomplete\":\"password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"mt-20\"},[_c('div',{staticClass:\"col span-12 text-center\"},[_c('AsyncButton',{attrs:{\"id\":\"submit\",\"data-testid\":\"login-submit\",\"type\":\"submit\",\"action-label\":_vm.t('login.loginWithLocal'),\"waiting-label\":_vm.t('login.loggingIn'),\"success-label\":_vm.t('login.loggedIn'),\"error-label\":_vm.t('asyncButton.default.error')},on:{\"click\":_vm.loginLocal}}),_vm._v(\" \"),(!_vm.firstLogin)?_c('div',{staticClass:\"mt-20\"},[_c('Checkbox',{attrs:{\"label\":_vm.t('login.remember.label'),\"type\":\"checkbox\"},model:{value:(_vm.remember),callback:function ($$v) {_vm.remember=$$v},expression:\"remember\"}})],1):_vm._e()],1)])]):_vm._e(),_vm._v(\" \"),(_vm.hasLocal && !_vm.showLocal)?_c('div',{staticClass:\"mt-20 text-center\"},[_c('a',{attrs:{\"id\":\"login-useLocal\",\"data-testid\":\"login-useLocal\",\"role\":\"button\"},on:{\"click\":_vm.toggleLocal}},[_vm._v(\"\\n            \"+_vm._s(_vm.t('login.useLocal'))+\"\\n          \")])]):_vm._e(),_vm._v(\" \"),(_vm.hasLocal && _vm.showLocal && _vm.providers.length)?_c('div',{staticClass:\"mt-20 text-center\"},[_c('a',{attrs:{\"role\":\"button\"},on:{\"click\":_vm.toggleLocal}},[_vm._v(\"\\n            \"+_vm._s(_vm.nonLocalPrompt)+\"\\n          \")])]):_vm._e()]:_vm._e(),_vm._v(\" \"),(_vm.showLocaleSelector)?_c('div',{staticClass:\"locale-elector\"},[_c('LocaleSelector',{attrs:{\"mode\":\"login\"}})],1):_vm._e()],2),_vm._v(\" \"),_c('BrandImage',{staticClass:\"col span-6 landscape\",attrs:{\"file-name\":\"login-landscape.svg\"}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { removeObject } from '@shell/utils/array';\nimport { USERNAME } from '@shell/config/cookies';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport LocaleSelector from '@shell/components/LocaleSelector';\nimport BrandImage from '@shell/components/BrandImage';\nimport InfoBox from '@shell/components/InfoBox';\nimport CopyCode from '@shell/components/CopyCode';\nimport { Banner } from '@components/Banner';\nimport { LOCAL, LOGGED_OUT, TIMED_OUT, _FLAGGED } from '@shell/config/query-params';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport Password from '@shell/components/form/Password';\nimport { sortBy } from '@shell/utils/sort';\nimport { configType } from '@shell/models/management.cattle.io.authconfig';\nimport { mapGetters } from 'vuex';\nimport { _ALL_IF_AUTHED, _MULTI } from '@shell/plugins/dashboard-store/actions';\nimport { MANAGEMENT, NORMAN } from '@shell/config/types';\nimport { SETTING } from '@shell/config/settings';\nimport { LOGIN_ERRORS } from '@shell/store/auth';\nimport {\n  getBrand,\n  getVendor,\n  getProduct,\n  setBrand,\n  setVendor\n} from '@shell/config/private-label';\nimport loadPlugins from '@shell/plugins/plugin';\n\nexport default {\n  name:       'Login',\n  layout:     'unauthenticated',\n  components: {\n    LabeledInput, AsyncButton, Checkbox, BrandImage, Banner, InfoBox, CopyCode, Password, LocaleSelector\n  },\n\n  async asyncData({ route, redirect, store }) {\n    const drivers = await store.dispatch('auth/getAuthProviders');\n    const providers = sortBy(drivers.map((x) => x.id), ['id']);\n\n    const hasLocal = providers.includes('local');\n    const hasOthers = hasLocal && !!providers.find((x) => x !== 'local');\n\n    if ( hasLocal ) {\n      // Local is special and handled here so that it can be toggled\n      removeObject(providers, 'local');\n    }\n\n    let firstLoginSetting, plSetting, brand;\n\n    // Load settings.\n    // For newer versions this will return all settings if you are somehow logged in,\n    // and just the public ones if you aren't.\n    try {\n      await store.dispatch('management/findAll', {\n        type: MANAGEMENT.SETTING,\n        opt:  {\n          load: _ALL_IF_AUTHED, url: `/v1/${ MANAGEMENT.SETTING }`, redirectUnauthorized: false\n        },\n      });\n\n      firstLoginSetting = store.getters['management/byId'](MANAGEMENT.SETTING, SETTING.FIRST_LOGIN);\n      plSetting = store.getters['management/byId'](MANAGEMENT.SETTING, SETTING.PL);\n      brand = store.getters['management/byId'](MANAGEMENT.SETTING, SETTING.BRAND);\n    } catch (e) {\n      // Older versions used Norman API to get these\n      firstLoginSetting = await store.dispatch('rancher/find', {\n        type: 'setting',\n        id:   SETTING.FIRST_LOGIN,\n        opt:  { url: `/v3/settings/${ SETTING.FIRST_LOGIN }` }\n      });\n\n      plSetting = await store.dispatch('rancher/find', {\n        type: 'setting',\n        id:   SETTING.PL,\n        opt:  { url: `/v3/settings/${ SETTING.PL }` }\n      });\n\n      brand = await store.dispatch('rancher/find', {\n        type: 'setting',\n        id:   SETTING.BRAND,\n        opt:  { url: `/v3/settings/${ SETTING.BRAND }` }\n      });\n    }\n\n    if (plSetting.value?.length && plSetting.value !== getVendor()) {\n      setVendor(plSetting.value);\n    }\n\n    if (brand?.value?.length && brand.value !== getBrand()) {\n      setBrand(brand.value);\n    }\n\n    let singleProvider;\n\n    if (providers.length === 1) {\n      singleProvider = providers[0];\n    }\n\n    return {\n      vendor:             getVendor(),\n      providers,\n      hasOthers,\n      hasLocal,\n      showLocal:          !hasOthers || (route.query[LOCAL] === _FLAGGED),\n      firstLogin:         firstLoginSetting?.value === 'true',\n      singleProvider,\n      showLocaleSelector: !process.env.loginLocaleSelector || process.env.loginLocaleSelector === 'true'\n    };\n  },\n\n  data({ $cookies }) {\n    const username = $cookies.get(USERNAME, { parseJSON: false }) || '';\n\n    return {\n      product: getProduct(),\n\n      username,\n      remember: !!username,\n      password: '',\n\n      timedOut:  this.$route.query[TIMED_OUT] === _FLAGGED,\n      loggedOut: this.$route.query[LOGGED_OUT] === _FLAGGED,\n      err:       this.$route.query.err,\n\n      providers:          [],\n      providerComponents: [],\n      customLoginError:   {}\n    };\n  },\n\n  computed: {\n    ...mapGetters({ t: 'i18n/t' }),\n\n    nonLocalPrompt() {\n      if (this.singleProvider) {\n        const provider = this.displayName(this.singleProvider);\n\n        return this.t('login.useProvider', { provider });\n      }\n\n      return this.t('login.useNonLocal');\n    },\n\n    errorMessage() {\n      if (this.err === LOGIN_ERRORS.CLIENT_UNAUTHORIZED) {\n        return this.t('login.clientError');\n      } else if (this.err === LOGIN_ERRORS.CLIENT || this.err === LOGIN_ERRORS.SERVER) {\n        return this.t('login.error');\n      }\n\n      return this.err?.length ? this.t('login.specificError', { msg: this.err }) : '';\n    },\n\n    errorToDisplay() {\n      if (this.customLoginError?.showMessage === 'true' && this.customLoginError?.message && this.errorMessage) {\n        return `${ this.customLoginError.message } \\n ${ this.errorMessage }`;\n      }\n\n      if (this.errorMessage) {\n        return this.errorMessage;\n      }\n\n      return '';\n    },\n\n    kubectlCmd() {\n      return \"kubectl get secret --namespace cattle-system bootstrap-secret -o go-template='{{.data.bootstrapPassword|base64decode}}{{\\\"\\\\n\\\"}}'\";\n    },\n\n    hasLoginMessage() {\n      return this.errorToDisplay || this.loggedOut || this.timedOut;\n    }\n\n  },\n\n  created() {\n    this.providerComponents = this.providers.map((name) => {\n      return this.$store.getters['type-map/importLogin'](configType[name] || name);\n    });\n  },\n\n  async fetch() {\n    const { value } = await this.$store.dispatch('management/find', { type: MANAGEMENT.SETTING, id: SETTING.BANNERS });\n\n    this.customLoginError = JSON.parse(value).loginError;\n  },\n\n  mounted() {\n    this.username = this.firstLogin ? 'admin' : this.username;\n    this.$nextTick(() => {\n      this.focusSomething();\n    });\n  },\n\n  methods: {\n    displayName(provider) {\n      return this.t(`model.authConfig.provider.${ provider }`);\n    },\n\n    toggleLocal() {\n      this.showLocal = !this.showLocal;\n      this.$router.applyQuery({ [LOCAL]: _FLAGGED });\n      this.$nextTick(() => {\n        this.focusSomething();\n      });\n    },\n\n    focusSomething() {\n      if ( !this.showLocal ) {\n        // One of the provider components will handle it\n        return;\n      }\n\n      let elem;\n\n      if ( this.username ) {\n        elem = this.$refs.password;\n      } else {\n        elem = this.$refs.username;\n      }\n\n      if ( elem?.focus ) {\n        elem.focus();\n\n        if ( elem.select ) {\n          elem.select();\n        }\n      }\n    },\n\n    handleProviderError(err) {\n      this.err = err;\n    },\n\n    async loginLocal(buttonCb) {\n      try {\n        await this.$store.dispatch('auth/login', {\n          provider: 'local',\n          body:     {\n            username: this.username,\n            password: this.password\n          }\n        });\n\n        const user = await this.$store.dispatch('rancher/findAll', {\n          type: NORMAN.USER,\n          opt:  { url: '/v3/users?me=true', load: _MULTI }\n        });\n\n        if (!!user?.[0]) {\n          this.$store.dispatch('auth/gotUser', user[0]);\n        }\n\n        if ( this.remember ) {\n          this.$cookies.set(USERNAME, this.username, {\n            encode:   (x) => x,\n            maxAge:   86400 * 365,\n            path:     '/',\n            sameSite: true,\n            secure:   true,\n          });\n        } else {\n          this.$cookies.remove(USERNAME);\n        }\n\n        // User logged with local login - we don't do any redirect/reload, so the boot-time plugin will not run again to laod the plugins\n        // so we manually load them here - other SSO auth providers bounce out and back to the Dashboard, so on the bounce-back\n        // the plugins will load via the boot-time plugin\n        await loadPlugins({\n          app:     this.$store.app,\n          store:   this.$store,\n          $plugin: this.$store.$plugin\n        });\n\n        if (this.firstLogin || user[0]?.mustChangePassword) {\n          this.$store.dispatch('auth/setInitialPass', this.password);\n          this.$router.push({ name: 'auth-setup' });\n        } else {\n          this.$router.replace('/');\n        }\n      } catch (err) {\n        this.err = err;\n        this.timedOut = null;\n        this.loggedOut = null;\n\n        buttonCb(false);\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <main class=\"main-layout login\">\n    <div class=\"row gutless mb-20\">\n      <div class=\"col span-6 p-20\">\n        <p class=\"text-center\">\n          {{ t('login.howdy') }}\n        </p>\n        <h1 class=\"text-center login-welcome\">\n          {{ t('login.welcome', {vendor}) }}\n        </h1>\n        <div\n          class=\"login-messages\"\n          data-testid=\"login__messages\"\n          :class=\"{'login-messages--hasContent': hasLoginMessage}\"\n        >\n          <Banner\n            v-if=\"errorToDisplay\"\n            :label=\"errorToDisplay\"\n            color=\"error\"\n          />\n          <h4\n            v-else-if=\"loggedOut\"\n            class=\"text-success text-center\"\n          >\n            {{ t('login.loggedOut') }}\n          </h4>\n          <h4\n            v-else-if=\"timedOut\"\n            class=\"text-error text-center\"\n          >\n            {{ t('login.loginAgain') }}\n          </h4>\n        </div>\n        <div\n          v-if=\"firstLogin\"\n          class=\"first-login-message pl-10 pr-10\"\n          :class=\"{'mt-30': !hasLoginMessage}\"\n          data-testid=\"first-login-message\"\n        >\n          <t\n            k=\"setup.defaultPassword.intro\"\n            :raw=\"true\"\n          />\n\n          <div>\n            <t\n              k=\"setup.defaultPassword.dockerPrefix\"\n              :raw=\"true\"\n            />\n          </div>\n          <ul>\n            <li>\n              <t\n                k=\"setup.defaultPassword.dockerPs\"\n                :raw=\"true\"\n              />\n            </li>\n            <li>\n              <CopyCode>\n                docker logs <u>container-id</u> 2&gt;&amp;1 | grep \"Bootstrap Password:\"\n              </CopyCode>\n            </li>\n          </ul>\n          <div>\n            <t\n              k=\"setup.defaultPassword.dockerSuffix\"\n              :raw=\"true\"\n            />\n          </div>\n\n          <br>\n          <div>\n            <t\n              k=\"setup.defaultPassword.helmPrefix\"\n              :raw=\"true\"\n            />\n          </div>\n          <br>\n          <CopyCode>\n            {{ kubectlCmd }}\n          </CopyCode>\n          <br>\n          <div>\n            <t\n              k=\"setup.defaultPassword.helmSuffix\"\n              :raw=\"true\"\n            />\n          </div>\n        </div>\n\n        <div\n          v-if=\"(!hasLocal || (hasLocal && !showLocal)) && providers.length\"\n          :class=\"{'mt-30': !hasLoginMessage}\"\n        >\n          <component\n            :is=\"providerComponents[idx]\"\n            v-for=\"(name, idx) in providers\"\n            :key=\"name\"\n            class=\"mb-10\"\n            :focus-on-mount=\"(idx === 0 && !showLocal)\"\n            :name=\"name\"\n            :open=\"!showLocal\"\n            @showInputs=\"showLocal = false\"\n            @error=\"handleProviderError\"\n          />\n        </div>\n        <template v-if=\"hasLocal\">\n          <form\n            v-if=\"showLocal\"\n            :class=\"{'mt-30': !hasLoginMessage}\"\n          >\n            <div class=\"span-6 offset-3\">\n              <div class=\"mb-20\">\n                <LabeledInput\n                  v-if=\"!firstLogin\"\n                  id=\"username\"\n                  ref=\"username\"\n                  v-model.trim=\"username\"\n                  data-testid=\"local-login-username\"\n                  :label=\"t('login.username')\"\n                  autocomplete=\"username\"\n                />\n              </div>\n              <div class=\"\">\n                <Password\n                  id=\"password\"\n                  ref=\"password\"\n                  v-model=\"password\"\n                  data-testid=\"local-login-password\"\n                  :label=\"t('login.password')\"\n                  autocomplete=\"password\"\n                />\n              </div>\n            </div>\n            <div class=\"mt-20\">\n              <div class=\"col span-12 text-center\">\n                <AsyncButton\n                  id=\"submit\"\n                  data-testid=\"login-submit\"\n                  type=\"submit\"\n                  :action-label=\"t('login.loginWithLocal')\"\n                  :waiting-label=\"t('login.loggingIn')\"\n                  :success-label=\"t('login.loggedIn')\"\n                  :error-label=\"t('asyncButton.default.error')\"\n                  @click=\"loginLocal\"\n                />\n                <div\n                  v-if=\"!firstLogin\"\n                  class=\"mt-20\"\n                >\n                  <Checkbox\n                    v-model=\"remember\"\n                    :label=\"t('login.remember.label')\"\n                    type=\"checkbox\"\n                  />\n                </div>\n              </div>\n            </div>\n          </form>\n          <div\n            v-if=\"hasLocal && !showLocal\"\n            class=\"mt-20 text-center\"\n          >\n            <a\n              id=\"login-useLocal\"\n              data-testid=\"login-useLocal\"\n              role=\"button\"\n              @click=\"toggleLocal\"\n            >\n              {{ t('login.useLocal') }}\n            </a>\n          </div>\n          <div\n            v-if=\"hasLocal && showLocal && providers.length\"\n            class=\"mt-20 text-center\"\n          >\n            <a\n              role=\"button\"\n              @click=\"toggleLocal\"\n            >\n              {{ nonLocalPrompt }}\n            </a>\n          </div>\n        </template>\n        <div\n          v-if=\"showLocaleSelector\"\n          class=\"locale-elector\"\n        >\n          <LocaleSelector mode=\"login\" />\n        </div>\n      </div>\n\n      <BrandImage\n        class=\"col span-6 landscape\"\n        file-name=\"login-landscape.svg\"\n      />\n    </div>\n  </main>\n</template>\n\n<style lang=\"scss\" scoped>\n  .login {\n    overflow: hidden;\n\n    .row {\n      align-items: center;\n    }\n\n    .landscape {\n      height: 100vh;\n      margin: 0;\n      object-fit: cover;\n    }\n\n    .login-welcome {\n      margin: 0\n    }\n\n    .login-messages {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n\n      .banner {\n        margin: 5px;\n      }\n      h4 {\n        margin: 0;\n      }\n      &--hasContent {\n        min-height: 70px;\n      }\n\n      .text-error, .banner {\n        max-width: 80%;\n      }\n    }\n\n    .first-login-message {\n      .banner {\n        margin-bottom: 0;\n        border-left: 0;\n\n        ::v-deep code {\n          font-size: 12px;\n          padding: 0;\n        }\n      }\n    }\n  }\n\n  .gutless {\n    height: 100vh;\n    & > .span-6 {\n      overflow-y: auto;\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      place-content: center;\n    }\n  }\n  .locale-elector {\n    position: absolute;\n    bottom: 30px;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=7ee29d9b&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=7ee29d9b&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ee29d9b\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".advanced[data-v-1d201bdb]{-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:0 5px;line-height:40px;font-size:15px;font-weight:500}.content[data-v-1d201bdb]{background:var(--nav-active);padding:10px;margin-top:6px;border-radius:4px}.locale-chooser[data-v-1d201bdb]{cursor:pointer}.locale-chooser[data-v-1d201bdb]:hover{text-decoration:none}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}