{"version":3,"sources":["webpack:///./shell/pages/c/_cluster/auth/config/index.vue","webpack:///shell/pages/c/_cluster/auth/config/index.vue","webpack:///./shell/pages/c/_cluster/auth/config/index.vue?1dac","webpack:///./shell/pages/c/_cluster/auth/config/index.vue?8cad"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","displayName","enabled","length","_e","attrs","t","localUsersRoute","rows","colorFor","on","row","goTo","id","staticRenderFns","components","SelectIconGrid","Banner","asyncData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","store","redirect","authProvs","wrap","_context","prev","next","authProvidersInfo","sent","enabledLocation","abrupt","nonLocal","stop","data","resource","MANAGEMENT","AUTH_CONFIG","getters","$store","inStore","hasListComponent","hasEditComponent","schema","concat","computed","sortBy","name","params","cluster","$route","product","USER","methods","types","idx","indexOf","configType","$router","push","query","_defineProperty","MODE","_EDIT","component"],"mappings":"2IAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,KAAK,CAACE,YAAY,OAAO,CAACJ,EAAIK,GAAG,SAASL,EAAIM,GAAGN,EAAIO,aAAa,UAAUP,EAAIK,GAAG,KAAOL,EAAIQ,QAAQC,OAAmYT,EAAIU,KAA/XR,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQX,EAAIY,EAAE,0BAA0B,MAAQ,SAAS,CAACV,EAAG,MAAM,CAACF,EAAIK,GAAG,WAAWL,EAAIM,GAAGN,EAAIY,EAAE,4BAA4B,YAAYV,EAAG,YAAY,CAACS,MAAM,CAAC,GAAKX,EAAIa,kBAAkB,CAACb,EAAIK,GAAG,aAAaL,EAAIM,GAAGN,EAAIY,EAAE,2BAA2B,cAAcZ,EAAIK,GAAG,KAAKH,EAAG,MAAMF,EAAIK,GAAG,WAAWL,EAAIM,GAAGN,EAAIY,EAAE,2BAA2B,WAAW,KAAcZ,EAAIK,GAAG,KAAKH,EAAG,iBAAiB,CAACS,MAAM,CAAC,KAAOX,EAAIc,KAAK,YAAYd,EAAIe,SAAS,aAAa,YAAYC,GAAG,CAAC,QAAU,SAACC,GAAG,OAAKjB,EAAIkB,KAAKD,EAAIE,SAAQ,IAEptBC,EAAkB,G,iICMP,GACfC,WAAA,CAAAC,sBAAAC,eAEAC,UAAA,SAAAC,GAAA,OAAAC,eAAAC,IAAAC,MAAA,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAL,IAAAM,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAN,EAAAL,EAAAK,MAAAC,EAAAN,EAAAM,SAAAG,EAAAE,KAAA,EACAC,eAAAP,GAAA,OAIA,OAJAE,EAAAE,EAAAI,KAEAN,EAAAO,iBACAR,EAAAC,EAAAO,iBACAL,EAAAM,OAAA,SAEA,CAAAC,SAAAT,EAAAS,SAAAjC,QAAAwB,EAAAxB,UAAA,wBAAA0B,EAAAQ,UAAAb,MAPAH,IAUAiB,KAAA,WACA,IAAAC,EAAAC,OAAAC,YACAC,EAAA,KAAAC,OAAAD,QACAE,EAAAF,EAAA,gBAAAH,GACAM,EAAAH,EAAA,0BAAAH,GACAO,EAAAJ,EAAA,0BAAAH,GACAQ,EAAAL,EAAA,GAAAM,OAAAJ,EAAA,eAAAL,GAEA,OACAA,WACAQ,SACAF,mBACAC,mBAGAV,SAAA,OAIAa,SAAA,CACAxC,KAAA,WACA,OAAAyC,eAAA,KAAAd,SAAA,8BAGAlC,YAAA,WACA,YAAAyC,OAAAD,QAAA,0BAAAK,OAAA,IAGAvC,gBAAA,WACA,OACA2C,KAAA,6BACAC,OAAA,CACAC,QAAA,KAAAC,OAAAF,OAAAC,QAAAE,QAAA,OAAAhB,SAAAC,OAAAgB,SAMAC,QAAA,CACA/C,SAAA,SAAAE,GACA,IAAA8C,EAAA,+BAEAC,EAAAD,EAAAE,QAAAhD,EAAAiD,YAEA,WAAAF,EACA,SAGA,QAAAX,OAAAW,EAAA,IAGA9C,KAAA,SAAAC,GACA,KAAAgD,QAAAC,KAAA,CACAZ,KAAA,2BACAC,OAAA,CAAAtC,MACAkD,MAAAC,eAAA,GAAAC,OAAAC,aC5E2X,I,YCOvXC,EAAY,eACd,EACA1E,EACAqB,GACA,EACA,KACA,KACA,MAIa,aAAAqD,E","file":"js/pages/c/_cluster/auth/config/index.1aec4257.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',{staticClass:\"m-0\"},[_vm._v(\"\\n    \"+_vm._s(_vm.displayName)+\"\\n  \")]),_vm._v(\" \"),(!_vm.enabled.length)?_c('Banner',{attrs:{\"label\":_vm.t('authConfig.noneEnabled'),\"color\":\"info\"}},[_c('div',[_vm._v(\"\\n      \"+_vm._s(_vm.t('authConfig.localEnabled'))+\"\\n      \"),_c('nuxt-link',{attrs:{\"to\":_vm.localUsersRoute}},[_vm._v(\"\\n        \"+_vm._s(_vm.t('authConfig.manageLocal'))+\"\\n      \")]),_vm._v(\" \"),_c('br'),_vm._v(\"\\n      \"+_vm._s(_vm.t('authConfig.noneEnabled'))+\"\\n    \")],1)]):_vm._e(),_vm._v(\" \"),_c('SelectIconGrid',{attrs:{\"rows\":_vm.rows,\"color-for\":_vm.colorFor,\"name-field\":\"provider\"},on:{\"clicked\":(row) => _vm.goTo(row.id)}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { MANAGEMENT } from '@shell/config/types';\nimport SelectIconGrid from '@shell/components/SelectIconGrid';\nimport { sortBy } from '@shell/utils/sort';\nimport { MODE, _EDIT } from '@shell/config/query-params';\nimport { authProvidersInfo } from '@shell/utils/auth';\nimport { Banner } from '@components/Banner';\n\nexport default {\n  components: { SelectIconGrid, Banner },\n\n  async asyncData({ store, redirect }) {\n    const authProvs = await authProvidersInfo(store);\n\n    if (!!authProvs.enabledLocation) {\n      redirect(authProvs.enabledLocation);\n    }\n\n    return { nonLocal: authProvs.nonLocal, enabled: authProvs.enabled };\n  },\n\n  data() {\n    const resource = MANAGEMENT.AUTH_CONFIG;\n    const getters = this.$store.getters;\n    const inStore = getters['currentStore'](resource);\n    const hasListComponent = getters['type-map/hasCustomList'](resource);\n    const hasEditComponent = getters['type-map/hasCustomEdit'](resource);\n    const schema = getters[`${ inStore }/schemaFor`](resource);\n\n    return {\n      resource,\n      schema,\n      hasListComponent,\n      hasEditComponent,\n\n      // Provided by asyncData later\n      nonLocal: null,\n    };\n  },\n\n  computed: {\n    rows() {\n      return sortBy(this.nonLocal, ['sideLabel', 'nameDisplay']);\n    },\n\n    displayName() {\n      return this.$store.getters['type-map/labelFor'](this.schema, 2);\n    },\n\n    localUsersRoute() {\n      return {\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster: this.$route.params.cluster, product: 'auth', resource: MANAGEMENT.USER\n        }\n      };\n    },\n  },\n\n  methods: {\n    colorFor(row) {\n      const types = ['ldap', 'oauth', 'saml', 'oidc'];\n\n      const idx = types.indexOf(row.configType);\n\n      if ( idx === -1 ) {\n        return 'color8';\n      }\n\n      return `color${ idx + 1 }`;\n    },\n\n    goTo(id) {\n      this.$router.push({\n        name:   'c-cluster-auth-config-id',\n        params: { id },\n        query:  { [MODE]: _EDIT }\n      });\n    },\n  }\n};\n</script>\n\n<template>\n  <div>\n    <h1 class=\"m-0\">\n      {{ displayName }}\n    </h1>\n    <Banner\n      v-if=\"!enabled.length\"\n      :label=\"t('authConfig.noneEnabled')\"\n      color=\"info\"\n    >\n      <div>\n        {{ t('authConfig.localEnabled') }}\n        <nuxt-link :to=\"localUsersRoute\">\n          {{ t('authConfig.manageLocal') }}\n        </nuxt-link>\n        <br>\n        {{ t('authConfig.noneEnabled') }}\n      </div>\n    </Banner>\n    <SelectIconGrid\n      :rows=\"rows\"\n      :color-for=\"colorFor\"\n      name-field=\"provider\"\n      @clicked=\"(row) => goTo(row.id)\"\n    />\n  </div>\n</template>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3db45f0a&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}