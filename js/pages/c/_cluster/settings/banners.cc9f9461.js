(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/c/_cluster/settings/banners"],{"0c69":function(e,t,a){var n=a("be57");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=a("499e").default;o("6686afe7",n,!0,{sourceMap:!1,shadowMode:!1})},5383:function(e,t,a){"use strict";a("0c69")},"5ed1":function(e,t,a){"use strict";var n=a("ade3"),o=function(){var e,t=this,a=t._self._c;return a("div",{staticClass:"color-input",class:(e={},Object(n["a"])(e,t.mode,t.mode),Object(n["a"])(e,"disabled",t.mode!==t.editMode),e),attrs:{"data-testid":t.componentTestid+"-color-input"}},[a("label",{staticClass:"text-label"},[t.labelKey?a("t",{attrs:{k:t.labelKey,raw:!0}}):t._e(),t._v(t._s(t.label))],1),t._v(" "),a("div",{staticClass:"preview-container",on:{click:function(e){return e.stopPropagation(),t.$refs.input.click(e)}}},[a("span",{staticClass:"color-display",style:{"background-color":t.inputValue}},[a("input",{ref:"input",attrs:{type:"color",disabled:t.mode!==t.editMode},domProps:{value:t.inputValue},on:{input:function(e){return t.$emit("input",e.target.value)}}})]),t._v(" "),a("span",{staticClass:"text-muted color-value"},[t._v(t._s(t.inputValue))])])])},r=[],l=(a("caad"),a("2532"),a("fa3b")),i={props:{value:{type:String,default:""},defaultValue:{type:String,default:""},label:{type:String,default:null},labelKey:{type:String,default:null},mode:{type:String,validator:function(e){return[l["M"],l["T"]].includes(e)},default:l["M"]},componentTestid:{type:String,default:"color-input"}},data:function(){return{viewMode:l["T"],editMode:l["M"]}},computed:{inputValue:function(){return this.value?this.value:this.defaultValue}},mounted:function(){this.$emit("input",this.inputValue)}},s=i,d=(a("78b7"),a("0c7c")),c=Object(d["a"])(s,o,r,!1,null,"44939daa",null);t["a"]=c.exports},"606f":function(e,t,a){"use strict";a("99b9")},"6fc0":function(e,t,a){var n=a("4bad");t=n(!1),t.push([e.i,".banner-decoration-checkbox[data-v-62b5f52a]{position:relative;display:inline-flex;align-items:flex-start;margin:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--border-radius);padding-bottom:5px;height:24px}",""]),e.exports=t},"78b7":function(e,t,a){"use strict";a("8a19")},"7a6b":function(e,t,a){var n=a("4bad");t=n(!1),t.push([e.i,".color-input[data-v-44939daa]{border:1px solid var(--border);border-radius:var(--border-radius);padding:10px}.color-input.disabled[data-v-44939daa],.color-input.disabled .selected[data-v-44939daa],.color-input[disabled][data-v-44939daa],.color-input[disabled][data-v-44939daa]:hover{color:var(--input-disabled-text);background-color:var(--input-disabled-bg);outline-width:0;border-color:var(--input-disabled-border);cursor:not-allowed}.color-input.disabled .selected div[data-v-44939daa],.color-input.disabled .selected input[data-v-44939daa],.color-input.disabled .selected label[data-v-44939daa],.color-input.disabled .selected span[data-v-44939daa],.color-input.disabled div[data-v-44939daa],.color-input.disabled input[data-v-44939daa],.color-input.disabled label[data-v-44939daa],.color-input.disabled span[data-v-44939daa],.color-input[disabled]:hover div[data-v-44939daa],.color-input[disabled]:hover input[data-v-44939daa],.color-input[disabled]:hover label[data-v-44939daa],.color-input[disabled]:hover span[data-v-44939daa],.color-input[disabled] div[data-v-44939daa],.color-input[disabled] input[data-v-44939daa],.color-input[disabled] label[data-v-44939daa],.color-input[disabled] span[data-v-44939daa]{cursor:not-allowed!important}.color-input.disabled .selected label[data-v-44939daa],.color-input.disabled label[data-v-44939daa],.color-input[disabled]:hover label[data-v-44939daa],.color-input[disabled] label[data-v-44939daa]{color:var(--input-disabled-label);display:inline-block;z-index:1}.color-input.disabled .selected[data-v-44939daa]::-moz-placeholder,.color-input.disabled[data-v-44939daa]::-moz-placeholder,.color-input[disabled][data-v-44939daa]::-moz-placeholder,.color-input[disabled][data-v-44939daa]:hover::-moz-placeholder{color:var(--input-disabled-placeholder)}.color-input.disabled .selected[data-v-44939daa]::placeholder,.color-input.disabled[data-v-44939daa]::placeholder,.color-input[disabled][data-v-44939daa]::placeholder,.color-input[disabled][data-v-44939daa]:hover::placeholder{color:var(--input-disabled-placeholder)}.color-input LABEL[data-v-44939daa]{display:block}.color-input .preview-container[data-v-44939daa]:hover{cursor:pointer}.color-input .preview-container .color-value[data-v-44939daa]{margin-left:4px}.color-input .color-display[data-v-44939daa]{border:1px solid var(--border)}.color-input .color-display[data-v-44939daa]:focus{outline:none;box-shadow:0 0 0 var(--outline-width) var(--outline);background:var(--input-focus-bg)}.color-input INPUT[data-v-44939daa]{border:none;padding:0;width:23px;height:23px;-webkit-appearance:none;opacity:0}.color-input INPUT[data-v-44939daa]:hover{cursor:pointer}",""]),e.exports=t},"8a19":function(e,t,a){var n=a("7a6b");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=a("499e").default;o("150449cf",n,!0,{sourceMap:!1,shadowMode:!1})},"99b9":function(e,t,a){var n=a("d144");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=a("499e").default;o("09e31300",n,!0,{sourceMap:!1,shadowMode:!1})},be57:function(e,t,a){var n=a("4bad");t=n(!1),t.push([e.i,".banner-input-footnote[data-v-359c970c]{font-size:12px;opacity:.8}.banner-decoration-checkbox[data-v-359c970c]{position:relative;display:inline-flex;align-items:flex-start;margin:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--border-radius);padding-bottom:5px;height:24px}",""]),e.exports=t},cbbf:function(e,t,a){var n=a("6fc0");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=a("499e").default;o("77ad5056",n,!0,{sourceMap:!1,shadowMode:!1})},d144:function(e,t,a){var n=a("4bad");t=n(!1),t.push([e.i,".overlay[data-v-59c249e4]{width:100%;height:100%;position:absolute;top:0;left:0;background-color:var(--overlay-bg);z-index:1}",""]),e.exports=t},d1d7:function(e,t,a){"use strict";a("cbbf")},e10c:function(e,t,a){"use strict";a.r(t);a("d3b7"),a("25f0");var n=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("div",[t("h1",{staticClass:"mb-20"},[e._v("\n    "+e._s(e.t("banner.label"))+"\n  ")]),e._v(" "),t("div",[t("label",{staticClass:"text-label"},[e._v("\n      "+e._s(e.t("advancedSettings.descriptions.".concat("ui-banners"),{},!0))+"\n    ")]),e._v(" "),[t("h2",{staticClass:"mt-40 mb-40"},[e._v("\n        "+e._s(e.t("banner.headerBanner"))+"\n      ")]),e._v(" "),t("div",{staticClass:"row mb-20"},[t("div",{staticClass:"col span-6"},[t("Checkbox",{attrs:{value:"true"===e.bannerVal.showHeader,label:e.t("banner.showHeader"),mode:e.mode},on:{input:function(t){return e.$set(e.bannerVal,"showHeader",t.toString())}}})],1)]),e._v(" "),t("BannerSettings",{attrs:{"banner-type":"bannerHeader",mode:e.headerMode},model:{value:e.bannerVal,callback:function(t){e.bannerVal=t},expression:"bannerVal"}}),e._v(" "),t("h2",{staticClass:"mt-40 mb-40"},[e._v("\n        "+e._s(e.t("banner.footerBanner"))+"\n      ")]),e._v(" "),t("div",{staticClass:"row mt-40 mb-20"},[t("div",{staticClass:"col span-6"},[t("Checkbox",{attrs:{value:"true"===e.bannerVal.showFooter,label:e.t("banner.showFooter"),mode:e.mode},on:{input:function(t){return e.$set(e.bannerVal,"showFooter",t.toString())}}})],1)]),e._v(" "),t("BannerSettings",{attrs:{"banner-type":"bannerFooter",mode:e.footerMode},model:{value:e.bannerVal,callback:function(t){e.bannerVal=t},expression:"bannerVal"}})],e._v(" "),t("h2",{staticClass:"mt-40 mb-40"},[e._v("\n      "+e._s(e.t("banner.loginScreenBanner"))+"\n    ")]),e._v(" "),[t("div",{staticClass:"row mt-40 mb-20"},[t("div",{staticClass:"col span-6"},[t("Checkbox",{attrs:{value:"true"===e.bannerVal.showConsent,label:e.t("banner.showConsent"),mode:e.mode},on:{input:function(t){return e.$set(e.bannerVal,"showConsent",t.toString())}}})],1)]),e._v(" "),t("BannerSettings",{attrs:{"banner-type":"bannerConsent",mode:e.consentMode},model:{value:e.bannerVal,callback:function(t){e.bannerVal=t},expression:"bannerVal"}})],e._v(" "),t("h2",{staticClass:"mt-40 mb-40"},[e._v("\n      "+e._s(e.t("notifications.loginError.header"))+"\n    ")]),e._v(" "),t("NotificationSettings",{attrs:{mode:e.mode,label:e.t("notifications.loginError.messageLabel")},model:{value:e.bannerVal.loginError,callback:function(t){e.$set(e.bannerVal,"loginError",t)},expression:"bannerVal.loginError"}})],2),e._v(" "),e._l(e.errors,(function(e){return[t("Banner",{key:e,attrs:{color:"error",label:e}})]})),e._v(" "),"edit"===e.mode?t("div",[t("AsyncButton",{staticClass:"pull-right mt-20",attrs:{mode:"apply"},on:{click:e.save}})],1):e._e()],2)},o=[],r=(a("b64b"),a("a4d3"),a("4de4"),a("e439"),a("159b"),a("dbb4"),a("ade3")),l=a("1da1"),i=a("a34a"),s=a.n(i),d=(a("96cf"),a("cca6"),a("caad"),a("2532"),a("e260"),a("e6cf"),a("3ca3"),a("ddb0"),a("13ea")),c=a.n(d),u=a("4de2"),b=a("c778"),p=a("67c9"),v=a("bec1"),f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row mb-20"},[t("div",{staticClass:"col span-12"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col span-6"},[t("LabeledInput",{attrs:{disabled:e.isUiDisabled,label:e.t("banner.text"),type:"multiline"},model:{value:e.value[e.bannerType].text,callback:function(t){e.$set(e.value[e.bannerType],"text",t)},expression:"value[bannerType].text"}}),e._v(" "),e.isConsentBanner?t("p",{staticClass:"banner-input-footnote mt-5 mb-20"},[e._v("\n          "+e._s(e.t("banner.consentFootnote"))+"\n        ")]):e._e(),e._v(" "),e.isConsentBanner?t("div",{staticClass:"mt-10"},[t("Checkbox",{staticClass:"banner-decoration-checkbox",attrs:{name:"bannerDecoration",mode:e.mode,label:e.t("banner.showAsDialog.label"),tooltip:e.t("banner.showAsDialog.tooltip")},model:{value:e.showAsDialog,callback:function(t){e.showAsDialog=t},expression:"showAsDialog"}}),e._v(" "),t("LabeledInput",{attrs:{disabled:!e.showAsDialog||e.isUiDisabled,label:e.t("banner.buttonText")},model:{value:e.buttonText,callback:function(t){e.buttonText=t},expression:"buttonText"}})],1):e._e()],1),e._v(" "),t("div",{staticClass:"col span-2"},[t("RadioGroup",{attrs:{name:"bannerAlignment",label:e.t("banner.bannerAlignment.label"),options:e.radioOptions.options,labels:e.radioOptions.labels,mode:e.mode},model:{value:e.value[e.bannerType].textAlignment,callback:function(t){e.$set(e.value[e.bannerType],"textAlignment",t)},expression:"value[bannerType].textAlignment"}})],1),e._v(" "),t("div",{staticClass:"col span-2"},[t("h3",[e._v("\n          "+e._s(e.t("banner.bannerDecoration.label"))+"\n        ")]),e._v(" "),e._l(e.textDecorationOptions,(function(a){return t("div",{key:a.style},[t("Checkbox",{staticClass:"banner-decoration-checkbox",attrs:{name:"bannerDecoration",mode:e.mode,label:a.label},model:{value:e.value[e.bannerType][a.style],callback:function(t){e.$set(e.value[e.bannerType],a.style,t)},expression:"value[bannerType][o.style]"}})],1)}))],2),e._v(" "),t("div",{staticClass:"col span-2"},[t("LabeledSelect",{attrs:{disabled:e.isUiDisabled,label:e.t("banner.bannerFontSize.label"),options:e.uiBannerFontSizeOptions},model:{value:e.value[e.bannerType].fontSize,callback:function(t){e.$set(e.value[e.bannerType],"fontSize",t)},expression:"value[bannerType].fontSize"}})],1)]),e._v(" "),t("div",{staticClass:"row mt-10"},[t("div",{staticClass:"col span-6"},[t("ColorInput",{attrs:{"default-value":e.themeVars.bannerTextColor,label:e.t("banner.textColor"),mode:e.mode},model:{value:e.value[e.bannerType].color,callback:function(t){e.$set(e.value[e.bannerType],"color",t)},expression:"value[bannerType].color"}})],1),e._v(" "),t("div",{staticClass:"col span-6"},[t("ColorInput",{attrs:{"default-value":e.themeVars.bannerBgColor,label:e.t("banner.background"),mode:e.mode},model:{value:e.value[e.bannerType].background,callback:function(t){e.$set(e.value[e.bannerType],"background",t)},expression:"value[bannerType].background"}})],1)])])])},h=[],g=a("5ed1"),m=a("84d3"),x=a("a95f"),y=a("fa35"),w=a("fa3b"),C={name:"BannerSettings",props:{value:{type:Object,default:function(){}},mode:{type:String,validator:function(e){return[w["M"],w["T"]].includes(e)},default:w["M"]},bannerType:{type:String,required:!0}},components:{Checkbox:u["a"],ColorInput:g["a"],LabeledInput:m["a"],LabeledSelect:x["a"],RadioGroup:y["b"]},data:function(){var e,t,a=!(null===(e=this.value[this.bannerType])||void 0===e||!e.button)||!1,n=(null===(t=this.value[this.bannerType])||void 0===t?void 0:t.button)||this.t("banner.showAsDialog.defaultButtonText");return{showAsDialog:a,buttonText:n,uiBannerFontSizeOptions:["10px","12px","14px","16px","18px","20px"],themeVars:{bannerBgColor:getComputedStyle(document.body).getPropertyValue("--default"),bannerTextColor:getComputedStyle(document.body).getPropertyValue("--banner-text-color")}}},watch:{showAsDialog:function(e,t){this.value[this.bannerType].button=e===t||e?this.buttonText:""},buttonText:function(e,t){e!==t&&(this.value[this.bannerType].button=e)}},computed:{radioOptions:function(){var e=["left","center","right"],t=[this.t("banner.bannerAlignment.leftOption"),this.t("banner.bannerAlignment.centerOption"),this.t("banner.bannerAlignment.rightOption")];return{options:e,labels:t}},isUiDisabled:function(){return this.mode===w["T"]},textDecorationOptions:function(){var e=[{style:"fontWeight",label:this.t("banner.bannerDecoration.bannerBold")},{style:"fontStyle",label:this.t("banner.bannerDecoration.bannerItalic")},{style:"textDecoration",label:this.t("banner.bannerDecoration.bannerUnderline")}];return e},isConsentBanner:function(){return"bannerConsent"===this.bannerType}}},_=C,k=(a("5383"),a("0c7c")),S=Object(k["a"])(_,f,h,!1,null,"359c970c",null),T=S.exports,O=a("fa98"),M=a("a788"),V=a("58ec"),B=a("c5b9"),D=a("de78"),j=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row mb-20"},[t("div",{staticClass:"col span-6"},[t("Checkbox",{attrs:{mode:e.mode,value:"true"===e.value.showMessage,label:e.t("notifications.loginError.showCheckboxLabel")},on:{input:function(t){return e.$set(e.value,"showMessage",t.toString())}}})],1)]),e._v(" "),t("div",{staticClass:"row mb-20"},[t("div",{staticClass:"col span-6"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col span-12"},[t("LabeledInput",{attrs:{mode:e.mode,disabled:"false"===e.value.showMessage,label:e.t("notifications.loginError.messageLabel")},model:{value:e.value.message,callback:function(t){e.$set(e.value,"message",t)},expression:"value.message"}})],1)])])])])},A=[],E={name:"NotificationSettings",components:{LabeledInput:m["a"],Checkbox:u["a"]},props:{value:{type:Object,default:function(){}},mode:{type:String,validator:function(e){return[w["M"],w["T"]].includes(e)},default:w["M"]}}},z=E,$=(a("d1d7"),Object(k["a"])(z,j,A,!1,null,"62b5f52a",null)),F=$.exports;function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var I={loginError:{message:"",showMessage:"false"},bannerHeader:{background:null,color:null,textAlignment:"center",fontWeight:null,fontStyle:null,fontSize:"14px",textDecoration:null,text:null},bannerFooter:{background:null,color:null,textAlignment:"center",fontWeight:null,fontStyle:null,fontSize:"14px",textDecoration:null,text:null},bannerConsent:{background:null,color:null,textAlignment:"center",fontWeight:null,fontStyle:null,fontSize:"14px",textDecoration:null,text:null,button:null},showHeader:"false",showFooter:"false",showConsent:"false"},U={layout:"authenticated",components:{Checkbox:u["a"],Loading:b["a"],AsyncButton:p["b"],Banner:v["a"],BannerSettings:T,NotificationSettings:F},fetch:function(){var e=this;return Object(l["a"])(s.a.mark((function t(){var a;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(O["a"])({uiBannerSetting:e.$store.dispatch("management/find",{type:M["A"].SETTING,id:B["c"].BANNERS})});case 2:a=t.sent,Object.assign(e,a);case 4:case"end":return t.stop()}}),t)})))()},data:function(){return{vendor:Object(V["d"])(),uiBannerSetting:null,bannerVal:{},errors:[]}},computed:{mode:function(){var e,t=this.$store.getters["management/schemaFor"](M["A"].SETTING);return null!==t&&void 0!==t&&null!==(e=t.resourceMethods)&&void 0!==e&&e.includes("PUT")?w["M"]:w["T"]},headerMode:function(){var e;return"true"===(null===(e=this.bannerVal)||void 0===e?void 0:e.showHeader)?w["M"]:w["T"]},footerMode:function(){var e;return"true"===(null===(e=this.bannerVal)||void 0===e?void 0:e.showFooter)?w["M"]:w["T"]},consentMode:function(){var e;return"true"===(null===(e=this.bannerVal)||void 0===e?void 0:e.showConsent)?w["M"]:w["T"]}},watch:{uiBannerSetting:function(e){if(null!==e&&void 0!==e&&e.value&&""!==e.value)try{var t=JSON.parse(e.value);this.bannerVal=this.checkOrUpdateLegacyUIBannerSetting(t)}catch(a){}}},methods:{checkOrUpdateLegacyUIBannerSetting:function(e){var t=e.bannerHeader,a=e.bannerFooter,n=e.bannerConsent,o=e.banner,r=e.loginError;if(c()(t)&&c()(a)&&c()(n)){var l=I;if(!c()(o)){var i=Object(D["clone"])(null!==o&&void 0!==o?o:{});null!==i&&void 0!==i&&i.textColor&&(i["color"]=i.textColor,delete i.textColor),l={bannerHeader:P({},i),bannerFooter:P({},i),loginError:P(P({},I.loginError),{},{loginError:"false"===(null===r||void 0===r?void 0:r.showMessage)?"false":"true"}),bannerConsent:P({},I.bannerConsent),showHeader:"true"===(null===e||void 0===e?void 0:e.showHeader)?"true":"false",showFooter:"true"===(null===e||void 0===e?void 0:e.showFooter)?"true":"false",showConsent:"true"===(null===e||void 0===e?void 0:e.showConsent)?"true":"false"}}return l}return c()(n)&&(e.bannerConsent=P({},I.bannerConsent)),c()(r)&&(e.loginError=P({},I.loginError)),e},save:function(e){var t=this;return Object(l["a"])(s.a.mark((function a(){return s.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.uiBannerSetting.value=JSON.stringify(t.bannerVal),t.errors=[],a.prev=2,a.next=5,Promise.all([t.uiBannerSetting.save()]);case 5:e(!0),a.next=12;break;case 8:a.prev=8,a.t0=a["catch"](2),t.errors.push(a.t0),e(!1);case 12:case"end":return a.stop()}}),a,null,[[2,8]])})))()}}},H=U,N=(a("606f"),Object(k["a"])(H,n,o,!1,null,"59c249e4",null));t["default"]=N.exports}}]);
//# sourceMappingURL=banners.cc9f9461.js.map