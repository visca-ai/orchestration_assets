(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/c/_cluster/apps/charts/index"],{"22b9":function(e,t,r){"use strict";r("95dd")},"84a6":function(e,t,r){var c=r("4bad");t=c(!1),t.push([e.i,'.slider[data-v-de6c9d30]{margin:auto;position:relative;width:100%;place-items:center;overflow:hidden;margin-bottom:30px}.slider.disable[data-v-de6c9d30]:after,.slider.disable[data-v-de6c9d30]:before,.slider.disable:hover .next[data-v-de6c9d30],.slider.disable:hover .prev[data-v-de6c9d30]{display:none}.slider:hover .next[data-v-de6c9d30],.slider:hover .prev[data-v-de6c9d30]{display:block}.slide-track[data-v-de6c9d30]{display:flex;animation:scrolls 10s;position:relative;transition:1s ease-in-out;left:21%}.slider-badge[data-v-de6c9d30]{background:var(--app-partner-accent);color:var(--body-bg)}.slide[data-v-de6c9d30]{min-height:210px;width:60%;max-width:60%;margin:0 10px;position:relative;border:1px solid var(--tabbed-border);border-radius:var(--border-radius);cursor:pointer}.slide.singleSlide[data-v-de6c9d30]{width:100%;max-width:100%}.slide .slide-header[data-v-de6c9d30]{background:var(--default);width:100%;padding:10px 15px}.slide .slide-content[data-v-de6c9d30]{display:flex;padding:30px}.slide .slide-content .slide-img[data-v-de6c9d30]{width:150px;background:var(--card-badge-text);border-radius:calc(var(--border-radius)*2)}.slide .slide-content .slide-img img[data-v-de6c9d30]{width:100%}.slide .slide-content .slide-content-right[data-v-de6c9d30]{border-left:1px solid var(--tabbed-border);margin-left:30px;padding-left:30px}.slide .slide-content .slide-content-right span[data-v-de6c9d30]{margin:0}.slider[data-v-de6c9d30]:after,.slider[data-v-de6c9d30]:before{background:linear-gradient(90deg,var(--slider-light-bg) 0,var(--slider-light-bg-right));content:"";height:100%;position:absolute;width:15%;z-index:2}.slider[data-v-de6c9d30]:before{left:0;top:0}.slider:before.disable[data-v-de6c9d30]{display:none}.slider[data-v-de6c9d30]:after{right:-1px;top:0;transform:rotate(180deg)}.controls[data-v-de6c9d30]{width:100%;display:flex;justify-content:center;margin-top:10px}.controls.disable[data-v-de6c9d30]{display:none}.controls .control-item[data-v-de6c9d30]{width:10px;height:10px;border-radius:50%;background:var(--scrollbar-thumb);margin:5px;cursor:pointer}.controls .control-item.active[data-v-de6c9d30]{background:var(--body-text)}.next[data-v-de6c9d30],.prev[data-v-de6c9d30]{position:absolute;z-index:20;top:90px;display:none;cursor:pointer}.next.disabled .icon[data-v-de6c9d30],.prev.disabled .icon[data-v-de6c9d30]{color:var(--disabled-bg);cursor:not-allowed}.next[data-v-de6c9d30]{right:0}',""]),e.exports=t},"90c8":function(e,t,r){var c=r("4bad");t=c(!1),t.push([e.i,".left-right-split[data-v-6fce97cc]{padding:0 0 20px 0;width:100%;z-index:11;background:transparent;display:grid;grid-template-columns:40% auto auto;align-content:center;grid-column-gap:10px}.left-right-split .filter-block[data-v-6fce97cc]{display:flex}.left-right-split .refresh-btn[data-v-6fce97cc]{margin-left:10px}.left-right-split.with-os-options[data-v-6fce97cc]{grid-template-columns:40% auto auto auto}@media only screen and (max-width:1281px){.left-right-split[data-v-6fce97cc]{grid-template-columns:auto auto!important;grid-template-rows:40px 40px;grid-row-gap:20px}}@media only screen and (max-width:768px){.left-right-split[data-v-6fce97cc]{grid-template-columns:auto!important;grid-template-rows:40px 40px 40px!important}.left-right-split.with-os-options[data-v-6fce97cc]{grid-template-rows:40px 40px 40px 40px!important}}.checkbox-select .vs__search[data-v-6fce97cc]{position:absolute;right:0}.checkbox-select .vs__selected-options[data-v-6fce97cc]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:inline-block;line-height:2.4rem}.checkbox-outer-container.in-select[data-v-6fce97cc]{transform:translateX(-5px);padding:7px 0 6px 13px;width:calc(100% + 10px)}.checkbox-outer-container.in-select[data-v-6fce97cc].checkbox-label{display:flex;align-items:center}.checkbox-outer-container.in-select[data-v-6fce97cc].checkbox-label i{line-height:inherit}.checkbox-outer-container.in-select[data-v-6fce97cc]:first-child:hover{background:var(--input-hover-bg)}.checkbox-outer-container.in-select[data-v-6fce97cc]:hover.checkbox-label{color:var(--body-text)}.checkbox-outer-container.in-select.rancher[data-v-6fce97cc]:hover{background:var(--app-rancher-accent)}.checkbox-outer-container.in-select.rancher[data-v-6fce97cc]:hover.checkbox-label{color:var(--app-rancher-accent-text)}.checkbox-outer-container.in-select.rancher i[data-v-6fce97cc]{color:var(--app-rancher-accent)}.checkbox-outer-container.in-select.partner[data-v-6fce97cc]:hover{background:var(--app-partner-accent)}.checkbox-outer-container.in-select.partner[data-v-6fce97cc]:hover.checkbox-label{color:var(--app-partner-accent-text)}.checkbox-outer-container.in-select.partner i[data-v-6fce97cc]{color:var(--app-partner-accent)}.checkbox-outer-container.in-select.color1[data-v-6fce97cc]:hover{background:var(--app-color1-accent)}.checkbox-outer-container.in-select.color1[data-v-6fce97cc]:hover.checkbox-label{color:var(--app-color1-accent-text)}.checkbox-outer-container.in-select.color1 i[data-v-6fce97cc]{color:var(--app-color1-accent)}.checkbox-outer-container.in-select.color2[data-v-6fce97cc]:hover{background:var(--app-color2-accent)}.checkbox-outer-container.in-select.color2[data-v-6fce97cc]:hover.checkbox-label{color:var(--app-color2-accent-text)}.checkbox-outer-container.in-select.color2 i[data-v-6fce97cc]{color:var(--app-color2-accent)}.checkbox-outer-container.in-select.color3[data-v-6fce97cc]:hover{background:var(--app-color3-accent)}.checkbox-outer-container.in-select.color3[data-v-6fce97cc]:hover.checkbox-label{color:var(--app-color3-accent-text)}.checkbox-outer-container.in-select.color3 i[data-v-6fce97cc]{color:var(--app-color3-accent)}.checkbox-outer-container.in-select.color4[data-v-6fce97cc]:hover{background:var(--app-color4-accent)}.checkbox-outer-container.in-select.color4[data-v-6fce97cc]:hover.checkbox-label{color:var(--app-color4-accent-text)}.checkbox-outer-container.in-select.color4 i[data-v-6fce97cc]{color:var(--app-color4-accent)}.checkbox-outer-container.in-select.color5[data-v-6fce97cc]:hover{background:var(--app-color5-accent)}.checkbox-outer-container.in-select.color5[data-v-6fce97cc]:hover.checkbox-label{color:var(--app-color5-accent-text)}.checkbox-outer-container.in-select.color5 i[data-v-6fce97cc]{color:var(--app-color5-accent)}.checkbox-outer-container.in-select.color6[data-v-6fce97cc]:hover{background:var(--app-color6-accent)}.checkbox-outer-container.in-select.color6[data-v-6fce97cc]:hover.checkbox-label{color:var(--app-color6-accent-text)}.checkbox-outer-container.in-select.color6 i[data-v-6fce97cc]{color:var(--app-color6-accent)}.checkbox-outer-container.in-select.color7[data-v-6fce97cc]:hover{background:var(--app-color7-accent)}.checkbox-outer-container.in-select.color7[data-v-6fce97cc]:hover.checkbox-label{color:var(--app-color7-accent-text)}.checkbox-outer-container.in-select.color7 i[data-v-6fce97cc]{color:var(--app-color7-accent)}.checkbox-outer-container.in-select.color8[data-v-6fce97cc]:hover{background:var(--app-color8-accent)}.checkbox-outer-container.in-select.color8[data-v-6fce97cc]:hover.checkbox-label{color:var(--app-color8-accent-text)}.checkbox-outer-container.in-select.color8 i[data-v-6fce97cc]{color:var(--app-color8-accent)}",""]),e.exports=t},"95dd":function(e,t,r){var c=r("84a6");c.__esModule&&(c=c.default),"string"===typeof c&&(c=[[e.i,c,""]]),c.locals&&(e.exports=c.locals);var a=r("499e").default;a("57d3fb38",c,!0,{sourceMap:!1,shadowMode:!1})},be36:function(e,t,r){var c=r("90c8");c.__esModule&&(c=c.default),"string"===typeof c&&(c=[[e.i,c,""]]),c.locals&&(e.exports=c.locals);var a=r("499e").default;a("6ae8ce7b",c,!0,{sourceMap:!1,shadowMode:!1})},cbc19:function(e,t,r){"use strict";r("be36")},e78d:function(e,t,r){"use strict";r.r(t);var c=r("ade3"),a=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("div",[t("header",[t("div",{staticClass:"title"},[t("h1",{staticClass:"m-0",attrs:{"data-testid":"charts-header-title"}},[e._v("\n        "+e._s(e.t("catalog.charts.header"))+"\n      ")])]),e._v(" "),e.getFeaturedCharts.length>0?t("div",{staticClass:"actions-container"},[t("ButtonGroup",{attrs:{options:e.chartOptions},model:{value:e.chartMode,callback:function(t){e.chartMode=t},expression:"chartMode"}})],1):e._e()]),e._v(" "),e.showCarousel?t("div",[t("h3",[e._v(e._s(e.t("catalog.charts.featuredCharts")))]),e._v(" "),t("Carousel",{attrs:{sliders:e.getFeaturedCharts},on:{clicked:function(t){return e.selectChart(t)}}})],1):e._e(),e._v(" "),e.isPspLegacy?t("Banner",{attrs:{color:"warning",label:e.t("catalog.chart.banner.legacy")}}):e._e(),e._v(" "),t("TypeDescription",{attrs:{resource:"chart"}}),e._v(" "),t("div",{staticClass:"left-right-split"},[t("Select",{staticClass:"checkbox-select",attrs:{searchable:!1,options:e.repoOptionsForDropdown,value:e.flattenedRepoNames,"close-on-select":!1},on:{"option:selecting":function(t){t.all?e.toggleAll(!t.enabled):e.toggleRepo(t,!t.enabled)}},scopedSlots:e._u([{key:"selected-option",fn:function(t){return[e._v("\n        "+e._s(t.label)+"\n      ")]}},{key:"option",fn:function(r){return[t("Checkbox",{staticClass:"pull-left repo in-select",class:Object(c["a"])({},r.color,!0),attrs:{value:r.enabled,label:r.label,color:r.color},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",[e._v(e._s(r.label))]),r.all?e._e():t("i",{staticClass:"pl-5 icon icon-dot icon-sm",class:Object(c["a"])({},r.color,!0)})]},proxy:!0}],null,!0)})]}}])}),e._v(" "),t("Select",{staticStyle:{"min-width":"200px"},attrs:{clearable:!1,searchable:!1,options:e.categories,placement:"bottom",label:"label",reduce:function(e){return e.value}},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v("\n        "+e._s(t.label)+" ("+e._s(t.count)+")\n      ")]}}]),model:{value:e.category,callback:function(t){e.category=t},expression:"category"}}),e._v(" "),t("div",{staticClass:"filter-block"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],ref:"searchQuery",staticClass:"input-sm",attrs:{type:"search",placeholder:e.t("catalog.charts.search")},domProps:{value:e.searchQuery},on:{input:function(t){t.target.composing||(e.searchQuery=t.target.value)}}}),e._v(" "),t("button",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["/"],expression:"['/']",modifiers:{once:!0}}],staticClass:"hide",on:{shortkey:function(t){return e.focusSearch()}}}),e._v(" "),t("AsyncButton",{staticClass:"refresh-btn",attrs:{mode:"refresh",size:"sm"},on:{click:e.refresh}})],1)],1),e._v(" "),e._l(e.loadingErrors,(function(e){return t("Banner",{key:e,attrs:{color:"error",label:e}})})),e._v(" "),e.allCharts.length?t("div",[0===e.filteredCharts.length?t("div",{staticStyle:{width:"100%"}},[t("div",{staticClass:"m-50 text-center"},[t("h1",[e._v(e._s(e.t("catalog.charts.noCharts")))])])]):t("SelectIconGrid",{attrs:{rows:e.filteredCharts,"name-field":"chartNameDisplay","description-field":"chartDescription","color-for":e.colorForChart},on:{clicked:function(t){return e.selectChart(t)}}})],1):t("div",{staticClass:"m-50 text-center"},[t("h1",[e._v(e._s(e.t("catalog.charts.noCharts")))])])],2)},o=[],n=(r("b64b"),r("a4d3"),r("e439"),r("159b"),r("dbb4"),r("b0c0"),r("a630"),r("3ca3"),r("e01a"),r("d28b"),r("e260"),r("ddb0"),r("2909")),i=r("1da1"),l=(r("d81d"),r("caad"),r("2532"),r("99af"),r("7db0"),r("d3b7"),r("4de4"),r("4e82"),r("fb6a"),r("07ac"),r("ac1f"),r("466d"),r("a34a")),s=r.n(l),d=(r("96cf"),r("67c9")),u=r("c778"),h=r("bec1"),p=function(){var e=this,t=e._self._c;return t("div",{staticClass:"slider",class:{disable:1===e.sliders.length}},[t("div",{ref:"slider",staticClass:"slide-track",style:e.trackStyle,attrs:{id:"slide-track"}},e._l(e.sliders,(function(r,c){return t(e.asLink?"a":"div",{key:e.get(r,e.keyField),ref:"slide",refInFor:!0,tag:"div",staticClass:"slide",class:{singleSlide:1===e.sliders.length},attrs:{id:"slide"+c,href:e.asLink?e.get(r,e.linkField):null,target:e.get(r,e.targetField),rel:e.rel},on:{click:function(t){return e.select(r,c)}}},[t("div",{staticClass:"slide-content"},[t("div",{staticClass:"slide-img"},[t("img",{attrs:{src:r.icon?r.icon:"/_nuxt/shell/assets/images/generic-catalog.svg"}})]),e._v(" "),t("div",{staticClass:"slide-content-right"},[t("BadgeState",{attrs:{label:r.repoName,color:"slider-badge mb-20"}}),e._v(" "),t("h1",[e._v(e._s(r.chartNameDisplay)+" "+e._s(c+1))]),e._v(" "),t("p",[e._v(e._s(r.chartDescription))])],1)])])})),1),e._v(" "),t("div",{staticClass:"controls",class:{disable:1===e.sliders.length}},e._l(e.slider,(function(r,c){return t("div",{key:c,staticClass:"control-item",class:{active:e.activeItemId===c},on:{click:function(t){return e.scrollSlide(c,e.slider.length)}}})})),0),e._v(" "),t("div",{ref:"prev",staticClass:"prev",class:{disable:1===e.sliders.length},on:{click:function(t){return e.nextPrev("prev")}}},[t("i",{staticClass:"icon icon-chevron-left icon-4x"})]),e._v(" "),t("div",{ref:"next",staticClass:"next",class:{disable:1===e.sliders.length},on:{click:function(t){return e.nextPrev("next")}}},[t("i",{staticClass:"icon icon-chevron-right icon-4x"})])])},v=[],f=r("de78"),b=r("4297"),g=r("2f62");function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,c)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m="carousel-seen",k={components:{BadgeState:b["a"]},name:"Carousel",props:{sliders:{type:Array,required:!0},keyField:{type:String,default:"key"},asLink:{type:Boolean,default:!1},linkField:{type:String,default:"link"},targetField:{type:String,default:"target"},rel:{type:String,default:"noopener noreferrer nofollow"}},data:function(){return{slider:this.sliders,activeItemId:0,autoScroll:!0,autoScrollSlideInterval:null}},computed:x(x({},Object(g["b"])(["clusterId"])),{},{trackStyle:function(){var e=100*(this.activeItemId+1)/(this.slider.length+2),t=60*(this.slider.length+2);return 1===this.slider.length&&(e=0),"transform: translateX(-".concat(e,"%); width: ").concat(t,"%")},test:function(){return"test"}}),methods:{get:f["get"],select:function(e,t){this.$emit("clicked",e,t)},scrollSlide:function(e){this.autoScroll=!1,this.activeItemId=e},nextPrev:function(e){this.autoScroll=!1;var t=document.getElementById("slide-track");t.style.transition="transform 450ms ease-in-out","prev"!==e?this.activeItemId++:this.activeItemId--,t.addEventListener("transitionend",this.slideTransition)},slideTransition:function(){var e=document.getElementById("slide-track"),t=this.slider.length+2;-1===this.activeItemId&&(e.style.transition="none",this.activeItemId=this.slider.length-1),this.activeItemId===t-2&&(e.style.transition="none",this.activeItemId=0)},autoScrollSlide:function(){this.activeItemId<this.slider.length+1&&this.autoScroll&&this.activeItemId++,this.activeItemId>this.slider.length-1&&(this.autoScroll=!1,this.activeItemId=0)}},beforeDestroy:function(){this.autoScrollSlideInterval&&clearInterval(this.autoScrollSlideInterval)},mounted:function(){var e=document.getElementById("slide-track");if(1===this.slider.length)e.style="transform:translateX(0%); width:100%; left:0";else{var t=document.getElementById("slide0"),r=t.cloneNode(!0),c=document.getElementById("slide".concat(this.slider.length-1)),a=c.cloneNode(!0);e.appendChild(r),e.insertBefore(a,e.children[0])}var o=sessionStorage.getItem(m);o!==this.clusterId&&sessionStorage.setItem(m,this.clusterId),this.autoScrollSlideInterval=setInterval(this.autoScrollSlide,5e3)}},w=k,O=(r("22b9"),r("0c7c")),_=Object(O["a"])(w,p,v,!1,null,"de6c9d30",null),C=_.exports,S=r("5557"),j=r("c4a1"),I=r("35f4"),P=r("fa3b"),E=r("2c94"),D=r("b25d"),R=r("4de2"),A=r("c989"),$=r("e528"),F=r("f303"),B=r("5ce5"),Q=r("7388"),L=r("7600");function M(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=N(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var c=0,a=function(){};return{s:a,n:function(){return c>=e.length?{done:!0}:{done:!1,value:e[c++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,n=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return n=e.done,e},e:function(e){i=!0,o=e},f:function(){try{n||null==r.return||r.return()}finally{if(i)throw o}}}}function N(e,t){if(e){if("string"===typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,c=new Array(t);r<t;r++)c[r]=e[r];return c}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,c)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q={name:"Charts",components:{AsyncButton:d["b"],Banner:h["a"],Carousel:C,ButtonGroup:S["a"],Loading:u["a"],Checkbox:R["a"],Select:A["a"],SelectIconGrid:j["a"],TypeDescription:I["a"]},fetch:function(){var e=this;return Object(i["a"])(s.a.mark((function t(){var r;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("catalog/load",{force:!0,reset:!0});case 2:r=e.$route.query,e.searchQuery=r[P["B"]]||"",e.showDeprecated=r[P["f"]]===P["N"],e.showHidden=r[P["p"]]===P["N"],e.category=r[P["c"]]||"",e.allRepos=e.areAllEnabled();case 8:case"end":return t.stop()}}),t)})))()},data:function(){return{allRepos:null,category:null,operatingSystem:null,searchQuery:null,showDeprecated:null,showHidden:null,isPspLegacy:!1,chartOptions:[{label:"Browse",value:"browse"},{label:"Featured",value:"featured"}]}},computed:z(z(z({},Object(g["b"])(["currentCluster"])),Object(g["b"])({allCharts:"catalog/charts",loadingErrors:"catalog/errors"})),{},{chartMode:Object($["mapPref"])($["SHOW_CHART_MODE"]),hideRepos:Object($["mapPref"])($["HIDE_REPOS"]),repoOptions:function(){var e=this,t=0,r=[1,2,5,6,7,8],c=this.$store.getters["catalog/repos"].map((function(t){return{_key:t._key,label:t.nameDisplay,color:t.color,weight:t.isRancher?1:t.isPartner?2:3,enabled:!e.hideRepos.includes(t._key)}}));c=Object(D["b"])(c,["weight","label"]);var a,o=M(c);try{for(o.s();!(a=o.n()).done;){var n=a.value;n.color||(n.color="color".concat(r[t]),t++,t>=r.length&&(t=0))}}catch(i){o.e(i)}finally{o.f()}return c},repoOptionsForDropdown:function(){return[{label:this.t("catalog.repo.all"),all:!0,enabled:this.areAllEnabled()}].concat(Object(n["a"])(this.repoOptions))},flattenedRepoNames:function(){var e=this,t=this.repoOptionsForDropdown.find((function(e){return e.all&&e.enabled}));if(t)return t.label;if(!this.repoOptionsForDropdown.find((function(e){return e.enabled})))return this.t("generic.none");var r=this.repoOptions.filter((function(t){return!e.hideRepos.includes(t._key)})),c=r.reduce((function(e,t,c){e+=t.label;var a=r.length;return c<a-1&&(e+=", "),e}),"");return c},enabledCharts:function(){var e=this;return(this.allCharts||[]).filter((function(t){return!(t.deprecated&&!e.showDeprecated)&&(!(t.hidden&&!e.showHidden)&&(!e.hideRepos.includes(t.repoKey)&&!Object(L["q"])(t)))}))},filteredCharts:function(){var e=this.enabledCharts||[],t=this.currentCluster.status.provider||"other";return Object(B["filterAndArrangeCharts"])(e,{clusterProvider:t,category:this.category,searchQuery:this.searchQuery,showDeprecated:this.showDeprecated,showHidden:this.showHidden,hideRepos:this.hideRepos,hideTypes:[Q["e"]._CLUSTER_TPL],showPrerelease:this.$store.getters["prefs/get"]($["SHOW_PRE_RELEASE"])})},getFeaturedCharts:function(){var e=this.filteredCharts||[],t=e.filter((function(e){return e.featured})).sort((function(e,t){return e.featured-t.featured}));return t.slice(0,5)},categories:function(){var e,t={},r=M(this.enabledCharts);try{for(r.s();!(e=r.n()).done;){var c,a=e.value,o=M(a.categories);try{for(o.s();!(c=o.n()).done;){var n=c.value;if(!t[n]){var i="catalog.charts.categories.".concat(Object(E["m"])(n));t[n]={label:this.$store.getters["i18n/withFallback"](i,null,n),value:n,count:0}}t[n].count++}}catch(s){o.e(s)}finally{o.f()}}}catch(s){r.e(s)}finally{r.f()}var l=Object.values(t);return l.unshift({label:this.t("catalog.charts.categories.all"),value:"",count:this.enabledCharts.length}),l},showCarousel:function(){return"featured"===this.chartMode&&this.getFeaturedCharts.length}}),watch:{searchQuery:function(e){this.$router.applyQuery(Object(c["a"])({},P["B"],e||void 0))},category:function(e){this.$router.applyQuery(Object(c["a"])({},P["c"],e||void 0))},operatingSystem:function(e){this.$router.applyQuery(Object(c["a"])({},P["w"],e||void 0))}},mounted:function(){"undefined"!==typeof window&&(window.c=this)},created:function(){var e,t,r,c=(null===(e=this.currentCluster)||void 0===e||null===(t=e.status)||void 0===t||null===(r=t.version)||void 0===r?void 0:r.gitVersion)||"",a=c.includes("rke2"),o=c.match(/\d+/g);this.isPspLegacy=!(null===o||void 0===o||!o.length)&&(a&&1===+o[0]&&+o[1]<25)},methods:{colorForChart:function(e){var t=this.repoOptions,r=Object(F["e"])(t,"_key",e.repoKey);return r?r.color:null},toggleAll:function(e){var t,r=this,c=M(this.repoOptions);try{for(c.s();!(t=c.n()).done;){var a=t.value;this.toggleRepo(a,e,!1)}}catch(o){c.e(o)}finally{c.f()}this.$nextTick((function(){r.allRepos=r.areAllEnabled()}))},areAllEnabled:function(){var e,t=this.$store.getters["catalog/repos"],r=M(t);try{for(r.s();!(e=r.n()).done;){var c=e.value;if(this.hideRepos.includes(c._key))return!1}}catch(a){r.e(a)}finally{r.f()}return!0},toggleRepo:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=this.hideRepos;t?Object(F["j"])(c,e._key):Object(F["a"])(c,e._key),this.hideRepos=c,r&&(this.allRepos=this.areAllEnabled())},selectChart:function(e){var t,r,a=this.currentCluster.workerOSs,o=this.$store.getters["prefs/get"]($["SHOW_PRE_RELEASE"]),n=Object(B["compatibleVersionsFor"])(e,a,o),i=e.versions;r=n.length>0?n[0].version:i[0].version,this.$router.push({name:"c-cluster-apps-charts-chart",params:{cluster:this.$route.params.cluster,product:this.$store.getters["productId"]},query:(t={},Object(c["a"])(t,P["A"],e.repoType),Object(c["a"])(t,P["z"],e.repoName),Object(c["a"])(t,P["d"],e.chartName),Object(c["a"])(t,P["H"],r),t)})},focusSearch:function(){this.$refs.searchQuery&&(this.$refs.searchQuery.focus(),this.$refs.searchQuery.select())},refresh:function(e){var t=this;return Object(i["a"])(s.a.mark((function r(){return s.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$store.dispatch("catalog/refresh");case 3:e(!0),r.next=10;break;case 6:r.prev=6,r.t0=r["catch"](0),t.$store.dispatch("growl/fromError",r.t0),e(!1);case 10:case"end":return r.stop()}}),r,null,[[0,6]])})))()}}},G=q,W=(r("cbc19"),Object(O["a"])(G,a,o,!1,null,"6fce97cc",null));t["default"]=W.exports}}]);
//# sourceMappingURL=index.0fac5ee8.js.map