{"version":3,"sources":["webpack:///./shell/components/ExplorerProjectsNamespaces.vue?5ce2","webpack:///./shell/components/ExplorerProjectsNamespaces.vue?0ff9","webpack:///./shell/components/ExplorerProjectsNamespaces.vue?8884","webpack:///./shell/components/ExplorerProjectsNamespaces.vue?2e06","webpack:///./shell/components/ExplorerProjectsNamespaces.vue?1e8a","webpack:///./shell/components/ExplorerProjectsNamespaces.vue?c702","webpack:///./shell/pages/c/_cluster/_product/projectsnamespaces.vue","webpack:///./shell/components/ExplorerProjectsNamespaces.vue","webpack:///shell/components/ExplorerProjectsNamespaces.vue","webpack:///./shell/components/ExplorerProjectsNamespaces.vue?abb7","webpack:///./shell/components/ExplorerProjectsNamespaces.vue?0ec5","webpack:///shell/pages/c/_cluster/_product/projectsnamespaces.vue","webpack:///./shell/pages/c/_cluster/_product/projectsnamespaces.vue?aa74","webpack:///./shell/pages/c/_cluster/_product/projectsnamespaces.vue?181a"],"names":["content","__esModule","default","module","i","locals","exports","add","___CSS_LOADER_API_IMPORT___","push","render","_vm","this","_c","_self","_b","$attrs","staticRenderFns","staticClass","attrs","projectSchema","t","MANAGEMENT","PROJECT","VIRTUAL_TYPES","PROJECT_NAMESPACES","createProjectLocation","showIncrementalLoadingIndicator","loadResources","loadIndeterminate","showCreateNsButton","slot","createNamespaceLocationFlatList","_v","_s","_e","_g","ref","schema","headers","filteredRows","sortGenerationFn","loading","scopedSlots","_u","key","fn","group","class","projectDescription","directives","name","rawName","value","projectLabel","expression","isNamespaceCreatable","canSeeProjectlessNamespaces","notInProjectKey","createNamespaceLocation","invisible","showProjectActionButton","on","$event","showProjectAction","_ref","row","project","nameDisplay","_ref2","detailLocation","hideDetailLocation","injectionEnabled","hasSystemLabels","getPsaTooltip","_l","projectsWithoutNamespaces","slotName","id","proxy","$listeners","clearSelection","components","Masthead","MoveModal","ResourceTable","mixins","ResourceFetch","props","createProjectLocationOverride","type","Object","createNamespaceLocationOverride","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","inStore","wrap","_context","prev","next","$store","getters","NAMESPACE","concat","abrupt","$fetchType","dispatch","opt","force","projects","sent","stop","data","defaultCreateProjectLocation","params","product","resource","computed","_objectSpread","mapGetters","namespaces","currentCluster","length","$fetchState","pending","_this$perfConfig","_this$perfConfig$incr","perfConfig","incrementalLoading","enabled","_this$schema","collectionMethods","includes","label","sort","STATE","NAME","groupPreference","AGE","filter","h","projectIdsWithNamespaces","ids","rows","map","projectId","uniq","clusterProjects","_this$currentProduct","_this$currentProduct2","clusterId","projectsInAllClusters","currentProduct","customNamespaceFilter","clustersInProjects","spec","clusterName","_this2","activeProjects","find","item","_project$id","endsWith","rowsWithFakeNamespaces","fakeRows","_project$spec","groupByLabel","isFake","mainRowKey","displayName","availableActions","showMockNotInProjectGroup","_toConsumableArray","mapPref","GROUP_RESOURCES","activeNamespaceFilters","activeProjectFilters","_step","_iterator","_createForOfIteratorHelper","s","n","done","_filter$split","split","_filter$split2","_slicedToArray","err","e","f","_this3","namespaceFilters","NAMESPACE_FILTER_ALL_ORPHANS","keys","userIsFilteringForSpecificNamespaceOrProject","projectData","activeNamespaces","namespaceData","metadata","_this4","ALL_NAMESPACES","namespace","_this4$currentProduct","isSettingSystemNamespace","systemNS","isSystem","isFleetManaged","hideSystemResources","canUpdate","someNamespacesAreNotInProject","some","usingSpecificFilter","methods","dictionary","psaTooltipsDescription","list","values","text","join","title","activeFilters","filterType","location","query","_defineProperty","PROJECT_ID","_this$$store$getters$","FLAT_VIEW","event","commit","resources","elem","target","_row$project","DOMPurify","sanitize","ALLOWED_TAGS","description","$refs","table","base","defaultTableSortGenerationFn","component","ExplorerProjectsNamespaces"],"mappings":"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","file":"js/pages/c/_cluster/_product/projectsnamespaces.4931e9cf.js","sourcesContent":["export * from \"-!../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplorerProjectsNamespaces.vue?vue&type=style&index=1&id=45db6e32&prod&lang=scss&\"","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplorerProjectsNamespaces.vue?vue&type=style&index=0&id=45db6e32&prod&lang=scss&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplorerProjectsNamespaces.vue?vue&type=style&index=1&id=45db6e32&prod&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7e910a1e\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplorerProjectsNamespaces.vue?vue&type=style&index=0&id=45db6e32&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7e93f73b\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".project-namespaces[data-v-45db6e32] .project-name{line-height:30px}.project-namespaces[data-v-45db6e32] .project-bar{display:flex;flex-direction:row;justify-content:space-between}.project-namespaces[data-v-45db6e32] .project-bar.has-description .right{margin-top:5px}.project-namespaces[data-v-45db6e32] .project-bar.has-description .group-tab,.project-namespaces[data-v-45db6e32] .project-bar.has-description .group-tab:after{height:50px}.project-namespaces[data-v-45db6e32] .project-bar.has-description .group-tab:after{right:-20px}.project-namespaces[data-v-45db6e32] .project-bar.has-description .group-tab .description{margin-top:-20px}.project-namespaces[data-v-45db6e32] .namespace-name{display:flex;align-items:center}.project-namespaces[data-v-45db6e32] .namespace-name .icon-istio{color:var(--primary)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".psa-tooltip{margin:3px 0;padding:0 8px 0 22px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ExplorerProjectsNamespaces',_vm._b({},'ExplorerProjectsNamespaces',_vm.$attrs,false))\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"project-namespaces\"},[_c('Masthead',{attrs:{\"schema\":_vm.projectSchema,\"type-display\":_vm.t('projectNamespaces.label'),\"resource\":_vm.MANAGEMENT.PROJECT,\"favorite-resource\":_vm.VIRTUAL_TYPES.PROJECT_NAMESPACES,\"create-location\":_vm.createProjectLocation,\"create-button-label\":_vm.t('projectNamespaces.createProject'),\"show-incremental-loading-indicator\":_vm.showIncrementalLoadingIndicator,\"load-resources\":_vm.loadResources,\"load-indeterminate\":_vm.loadIndeterminate}},[(_vm.showCreateNsButton)?_c('template',{slot:\"extraActions\"},[_c('n-link',{staticClass:\"btn role-primary mr-10\",attrs:{\"to\":_vm.createNamespaceLocationFlatList(),\"data-testid\":\"create_project_namespaces\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.t('projectNamespaces.createNamespace'))+\"\\n      \")])],1):_vm._e()],2),_vm._v(\" \"),_c('ResourceTable',_vm._g(_vm._b({ref:\"table\",staticClass:\"table\",attrs:{\"schema\":_vm.schema,\"headers\":_vm.headers,\"rows\":_vm.filteredRows,\"groupable\":true,\"sort-generation-fn\":_vm.sortGenerationFn,\"loading\":_vm.loading,\"group-tooltip\":\"resourceTable.groupBy.project\",\"key-field\":\"_key\"},scopedSlots:_vm._u([{key:\"group-by\",fn:function(group){return [_c('div',{staticClass:\"project-bar\",class:{'has-description': _vm.projectDescription(group.group)}},[_c('div',{directives:[{name:\"trim-whitespace\",rawName:\"v-trim-whitespace\"}],staticClass:\"group-tab\"},[_c('div',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.projectLabel(group.group)),expression:\"projectLabel(group.group)\"}],staticClass:\"project-name\"}),_vm._v(\" \"),(_vm.projectDescription(group.group))?_c('div',{staticClass:\"description text-muted text-small\"},[_vm._v(\"\\n            \"+_vm._s(_vm.projectDescription(group.group))+\"\\n          \")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[(_vm.isNamespaceCreatable && (_vm.canSeeProjectlessNamespaces || group.group.key !== _vm.notInProjectKey))?_c('n-link',{staticClass:\"create-namespace btn btn-sm role-secondary mr-5\",attrs:{\"to\":_vm.createNamespaceLocation(group.group)}},[_vm._v(\"\\n            \"+_vm._s(_vm.t('projectNamespaces.createNamespace'))+\"\\n          \")]):_vm._e(),_vm._v(\" \"),_c('button',{staticClass:\"project-action btn btn-sm role-multi-action actions mr-10\",class:{invisible: !_vm.showProjectActionButton(group.group)},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.showProjectAction($event, group.group)}}},[_c('i',{staticClass:\"icon icon-actions\"})])],1)])]}},{key:\"cell:project\",fn:function({row}){return [(row.project)?_c('span',[_vm._v(_vm._s(row.project.nameDisplay))]):_c('span',{staticClass:\"text-muted\"},[_vm._v(\"–\")])]}},{key:\"cell:name\",fn:function({row}){return [_c('div',{staticClass:\"namespace-name\"},[(row.detailLocation && !row.hideDetailLocation)?_c('n-link',{attrs:{\"to\":row.detailLocation}},[_vm._v(\"\\n          \"+_vm._s(row.name)+\"\\n        \")]):_c('span',[_vm._v(\"\\n          \"+_vm._s(row.name)+\"\\n        \")]),_vm._v(\" \"),(row.injectionEnabled)?_c('i',{directives:[{name:\"clean-tooltip\",rawName:\"v-clean-tooltip\",value:(_vm.t('projectNamespaces.isIstioInjectionEnabled')),expression:\"t('projectNamespaces.isIstioInjectionEnabled')\"}],staticClass:\"icon icon-istio ml-5\"}):_vm._e(),_vm._v(\" \"),(row.hasSystemLabels)?_c('i',{directives:[{name:\"clean-tooltip\",rawName:\"v-clean-tooltip\",value:(_vm.getPsaTooltip(row)),expression:\"getPsaTooltip(row)\"}],staticClass:\"icon icon-lock ml-5\"}):_vm._e()],1)]}},_vm._l((_vm.projectsWithoutNamespaces),function(project){return {key:_vm.slotName(project),fn:function(){return [_c('tr',{key:project.id,staticClass:\"main-row\"},[_c('td',{staticClass:\"empty text-center\",attrs:{\"colspan\":\"5\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.t('projectNamespaces.noNamespaces'))+\"\\n        \")])])]},proxy:true}}),{key:\"main-row:fake-empty\",fn:function(){return [_c('tr',{staticClass:\"main-row\"},[_c('td',{staticClass:\"empty text-center\",attrs:{\"colspan\":\"5\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.t('projectNamespaces.noProjectNoNamespaces'))+\"\\n        \")])])]},proxy:true}],null,true)},'ResourceTable',_vm.$attrs,false),_vm.$listeners)),_vm._v(\" \"),_c('MoveModal',{on:{\"moving\":_vm.clearSelection}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport { mapGetters } from 'vuex';\r\nimport ResourceTable, { defaultTableSortGenerationFn } from '@shell/components/ResourceTable';\r\nimport { STATE, AGE, NAME } from '@shell/config/table-headers';\r\nimport { uniq } from '@shell/utils/array';\r\nimport { MANAGEMENT, NAMESPACE, VIRTUAL_TYPES } from '@shell/config/types';\r\nimport { PROJECT_ID, FLAT_VIEW } from '@shell/config/query-params';\r\nimport Masthead from '@shell/components/ResourceList/Masthead';\r\nimport { mapPref, GROUP_RESOURCES, ALL_NAMESPACES } from '@shell/store/prefs';\r\nimport MoveModal from '@shell/components/MoveModal';\r\n\r\nimport { NAMESPACE_FILTER_ALL_ORPHANS } from '@shell/utils/namespace-filter';\r\nimport ResourceFetch from '@shell/mixins/resource-fetch';\r\nimport DOMPurify from 'dompurify';\r\n\r\nexport default {\r\n  name:       'ListProjectNamespace',\r\n  components: {\r\n    Masthead, MoveModal, ResourceTable\r\n  },\r\n  mixins: [ResourceFetch],\r\n\r\n  props: {\r\n    createProjectLocationOverride: {\r\n      type:    Object,\r\n      default: () => null\r\n    },\r\n\r\n    createNamespaceLocationOverride: {\r\n      type:    Object,\r\n      default: () => null\r\n    }\r\n  },\r\n\r\n  async fetch() {\r\n    const inStore = this.$store.getters['currentStore'](NAMESPACE);\r\n\r\n    this.schema = this.$store.getters[`${ inStore }/schemaFor`](NAMESPACE);\r\n    this.projectSchema = this.$store.getters[`management/schemaFor`](MANAGEMENT.PROJECT);\r\n\r\n    if ( !this.schema ) {\r\n      // clusterReady:   When switching routes, it will cause clusterReady to change, causing itself to repeat rendering。\r\n      // this.$store.dispatch('loadingError', `Type ${ NAMESPACE } not found`);\r\n\r\n      return;\r\n    }\r\n\r\n    await this.$fetchType(NAMESPACE);\r\n    this.projects = await this.$store.dispatch('management/findAll', { type: MANAGEMENT.PROJECT, opt: { force: true } });\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      loadResources:                [NAMESPACE],\r\n      loadIndeterminate:            true,\r\n      schema:                       null,\r\n      projects:                     [],\r\n      projectSchema:                null,\r\n      MANAGEMENT,\r\n      VIRTUAL_TYPES,\r\n      defaultCreateProjectLocation: {\r\n        name:   'c-cluster-product-resource-create',\r\n        params: {\r\n          product:  this.$store.getters['currentProduct'].name,\r\n          resource: MANAGEMENT.PROJECT\r\n        },\r\n      }\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters(['currentCluster', 'currentProduct']),\r\n    namespaces() {\r\n      const inStore = this.$store.getters['currentStore'](NAMESPACE);\r\n\r\n      return this.$store.getters[`${ inStore }/all`](NAMESPACE);\r\n    },\r\n    loading() {\r\n      return !this.currentCluster || this.namespaces.length ? false : this.$fetchState.pending;\r\n    },\r\n    showIncrementalLoadingIndicator() {\r\n      return this.perfConfig?.incrementalLoading?.enabled;\r\n    },\r\n    isNamespaceCreatable() {\r\n      return (this.schema?.collectionMethods || []).includes('POST');\r\n    },\r\n    headers() {\r\n      const project = {\r\n        name:  'project',\r\n        label: this.t('tableHeaders.project'),\r\n        value: 'project.nameDisplay',\r\n        sort:  ['projectNameSort', 'nameSort'],\r\n      };\r\n\r\n      return [\r\n        STATE,\r\n        NAME,\r\n        this.groupPreference === 'none' ? project : null,\r\n        AGE\r\n      ].filter((h) => h);\r\n    },\r\n    projectIdsWithNamespaces() {\r\n      const ids = this.rows\r\n        .map((row) => row.projectId)\r\n        .filter((id) => id);\r\n\r\n      return uniq(ids);\r\n    },\r\n    clusterProjects() {\r\n      const clusterId = this.currentCluster.id;\r\n\r\n      // Get the list of projects from the store so that the list\r\n      // is updated if a new project is created or removed.\r\n      const projectsInAllClusters = this.$store.getters['management/all'](MANAGEMENT.PROJECT);\r\n\r\n      if (this.currentProduct?.customNamespaceFilter && this.currentProduct?.inStore && this.$store.getters[`${ this.currentProduct.inStore }/filterProject`]) {\r\n        return this.$store.getters[`${ this.currentProduct.inStore }/filterProject`];\r\n      }\r\n\r\n      const clustersInProjects = projectsInAllClusters.filter((project) => project.spec.clusterName === clusterId);\r\n\r\n      return clustersInProjects;\r\n    },\r\n    projectsWithoutNamespaces() {\r\n      return this.activeProjects.filter((project) => {\r\n        return !this.projectIdsWithNamespaces.find((item) => project?.id?.endsWith(`/${ item }`));\r\n      });\r\n    },\r\n    // We're using this because we need to show projects as groups even if the project doesn't have any namespaces.\r\n    rowsWithFakeNamespaces() {\r\n      const fakeRows = this.projectsWithoutNamespaces.map((project) => {\r\n        return {\r\n          groupByLabel:     `${ ('resourceTable.groupLabel.notInAProject') }-${ project.id }`,\r\n          isFake:           true,\r\n          mainRowKey:       project.id,\r\n          nameDisplay:      project.spec?.displayName, // Enable filtering by the project name\r\n          project,\r\n          availableActions: []\r\n        };\r\n      });\r\n\r\n      if (this.showMockNotInProjectGroup) {\r\n        fakeRows.push( {\r\n          groupByLabel: this.t('resourceTable.groupLabel.notInAProject'), // Same as the groupByLabel for the namespace model\r\n          mainRowKey:   'fake-empty',\r\n        });\r\n      }\r\n\r\n      return [...this.rows, ...fakeRows];\r\n    },\r\n    createProjectLocation() {\r\n      return this.createProjectLocationOverride || this.defaultCreateProjectLocation;\r\n    },\r\n    groupPreference: mapPref(GROUP_RESOURCES),\r\n    activeNamespaceFilters() {\r\n      return this.$store.getters['activeNamespaceFilters'];\r\n    },\r\n    activeProjectFilters() {\r\n      const activeProjects = {};\r\n\r\n      for (const filter of this.activeNamespaceFilters) {\r\n        const [type, id] = filter.split('://', 2);\r\n\r\n        if (type === 'project') {\r\n          activeProjects[id] = true;\r\n        }\r\n      }\r\n\r\n      return activeProjects;\r\n    },\r\n    activeProjects() {\r\n      const namespaceFilters = this.$store.getters['activeNamespaceFilters'];\r\n\r\n      if (namespaceFilters.includes(NAMESPACE_FILTER_ALL_ORPHANS) && Object.keys(this.activeProjectFilters).length === 0) {\r\n        // If the user wants to only see namespaces that are not\r\n        // in a project, don't show any projects.\r\n        return [];\r\n      }\r\n\r\n      // If the user is not filtering by any projects or namespaces, return\r\n      // all projects in the cluster.\r\n      if (!this.userIsFilteringForSpecificNamespaceOrProject()) {\r\n        return this.clusterProjects;\r\n      }\r\n\r\n      // Filter out projects that are not selected in the top nav.\r\n      return this.clusterProjects.filter((projectData) => {\r\n        const projectId = projectData.id.split('/')[1];\r\n\r\n        return !!this.activeProjectFilters[projectId];\r\n      });\r\n    },\r\n    activeNamespaces() {\r\n      // Apply namespace filters from the top nav.\r\n      const activeNamespaces = this.$store.getters['namespaces']();\r\n\r\n      return this.namespaces.filter((namespaceData) => {\r\n        return !!activeNamespaces[namespaceData.metadata.name];\r\n      });\r\n    },\r\n    filteredRows() {\r\n      return this.groupPreference === 'none' ? this.rows : this.rowsWithFakeNamespaces;\r\n    },\r\n    rows() {\r\n      if (this.$store.getters['prefs/get'](ALL_NAMESPACES)) {\r\n        // If all namespaces options are turned on in the user preferences,\r\n        // return all namespaces including system namespaces and RBAC\r\n        // management namespaces.\r\n        return this.activeNamespaces;\r\n      }\r\n\r\n      return this.activeNamespaces.filter((namespace) => {\r\n        const isSettingSystemNamespace = this.$store.getters['systemNamespaces'].includes(namespace.metadata.name);\r\n        const systemNS = namespace.isSystem || namespace.isFleetManaged || isSettingSystemNamespace;\r\n\r\n        return this.currentProduct?.hideSystemResources ? !systemNS : true;\r\n      });\r\n    },\r\n\r\n    canSeeProjectlessNamespaces() {\r\n      return this.currentCluster.canUpdate;\r\n    },\r\n\r\n    showMockNotInProjectGroup() {\r\n      if (!this.canSeeProjectlessNamespaces) {\r\n        return false;\r\n      }\r\n\r\n      const someNamespacesAreNotInProject = !this.rows.some((row) => !row.project);\r\n\r\n      // Hide the \"Not in a Project\" group if the user is filtering\r\n      // for specific namespaces or projects.\r\n      const usingSpecificFilter = this.userIsFilteringForSpecificNamespaceOrProject();\r\n\r\n      return !usingSpecificFilter && someNamespacesAreNotInProject;\r\n    },\r\n\r\n    notInProjectKey() {\r\n      return this.$store.getters['i18n/t']('resourceTable.groupLabel.notInAProject');\r\n    },\r\n    showCreateNsButton() {\r\n      return this.groupPreference !== 'namespace';\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * Get PSA HTML to be displayed in the tooltips\r\n     */\r\n    getPsaTooltip(row) {\r\n      const dictionary = row.psaTooltipsDescription;\r\n      const list = Object.values(dictionary)\r\n        .sort()\r\n        .map((text) => `<li>${ text }</li>`).join('');\r\n      const title = `<p>${ this.t('podSecurityAdmission.name') }: </p>`;\r\n\r\n      return `${ title }<ul class=\"psa-tooltip\">${ list }</ul>`;\r\n    },\r\n\r\n    userIsFilteringForSpecificNamespaceOrProject() {\r\n      const activeFilters = this.$store.getters['namespaceFilters'];\r\n\r\n      for (let i = 0; i < activeFilters.length; i++) {\r\n        const filter = activeFilters[i];\r\n        const filterType = filter.split('://')[0];\r\n\r\n        if (filterType === 'ns' || filterType === 'project') {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      return false;\r\n    },\r\n    slotName(project) {\r\n      return `main-row:${ project.id }`;\r\n    },\r\n    createNamespaceLocation(group) {\r\n      const project = group.rows[0].project;\r\n\r\n      const location = this.createNamespaceLocationOverride ? { ...this.createNamespaceLocationOverride } : {\r\n        name:   'c-cluster-product-resource-create',\r\n        params: {\r\n          product:  this.$store.getters['currentProduct'].name,\r\n          resource: NAMESPACE\r\n        },\r\n      };\r\n\r\n      location.query = { [PROJECT_ID]: project?.metadata.name };\r\n\r\n      return location;\r\n    },\r\n\r\n    createNamespaceLocationFlatList() {\r\n      const location = this.createNamespaceLocationOverride ? { ...this.createNamespaceLocationOverride } : {\r\n        name:   'c-cluster-product-resource-create',\r\n        params: {\r\n          product:  this.$store.getters['currentProduct']?.name,\r\n          resource: NAMESPACE\r\n        },\r\n      };\r\n\r\n      location.query = { [FLAT_VIEW]: true };\r\n\r\n      return location;\r\n    },\r\n\r\n    showProjectAction(event, group) {\r\n      const project = group.rows[0].project;\r\n\r\n      this.$store.commit(`action-menu/show`, {\r\n        resources: [project],\r\n        elem:      event.target\r\n      });\r\n    },\r\n    showProjectActionButton(group) {\r\n      const project = group.rows[0].project;\r\n\r\n      return !!project;\r\n    },\r\n    projectLabel(group) {\r\n      const row = group.rows[0];\r\n\r\n      if (row.isFake) {\r\n        return DOMPurify.sanitize(\r\n          this.t('resourceTable.groupLabel.project', { name: row.project?.nameDisplay }, true),\r\n          { ALLOWED_TAGS: ['span'] }\r\n        );\r\n      }\r\n\r\n      return row.groupByLabel;\r\n    },\r\n\r\n    projectDescription(group) {\r\n      const project = group.rows[0].project;\r\n\r\n      return project?.description;\r\n    },\r\n\r\n    clearSelection() {\r\n      this.$refs.table.clearSelection();\r\n    },\r\n\r\n    sortGenerationFn() {\r\n      // The sort generation function creates a unique value and is used to create a key including sort details.\r\n      // The unique key determines if the list is redrawn or a cached version is shown.\r\n      // Because we ensure the 'not in a project' group is there via a row, and timing issues, the unqiue key doesn't change\r\n      // after a namespace is removed... so the list won't update... so we need to inject a string to ensure the key is fresh\r\n      const base = defaultTableSortGenerationFn(this.schema, this.$store);\r\n\r\n      return base + (this.showMockNotInProjectGroup ? '-mock' : '');\r\n    },\r\n\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"project-namespaces\">\r\n    <Masthead\r\n      :schema=\"projectSchema\"\r\n      :type-display=\"t('projectNamespaces.label')\"\r\n      :resource=\"MANAGEMENT.PROJECT\"\r\n      :favorite-resource=\"VIRTUAL_TYPES.PROJECT_NAMESPACES\"\r\n      :create-location=\"createProjectLocation\"\r\n      :create-button-label=\"t('projectNamespaces.createProject')\"\r\n      :show-incremental-loading-indicator=\"showIncrementalLoadingIndicator\"\r\n      :load-resources=\"loadResources\"\r\n      :load-indeterminate=\"loadIndeterminate\"\r\n    >\r\n      <template\r\n        v-if=\"showCreateNsButton\"\r\n        slot=\"extraActions\"\r\n      >\r\n        <n-link\r\n          :to=\"createNamespaceLocationFlatList()\"\r\n          class=\"btn role-primary mr-10\"\r\n          data-testid=\"create_project_namespaces\"\r\n        >\r\n          {{ t('projectNamespaces.createNamespace') }}\r\n        </n-link>\r\n      </template>\r\n    </Masthead>\r\n    <ResourceTable\r\n      ref=\"table\"\r\n      class=\"table\"\r\n      v-bind=\"$attrs\"\r\n      :schema=\"schema\"\r\n      :headers=\"headers\"\r\n      :rows=\"filteredRows\"\r\n      :groupable=\"true\"\r\n      :sort-generation-fn=\"sortGenerationFn\"\r\n      :loading=\"loading\"\r\n      group-tooltip=\"resourceTable.groupBy.project\"\r\n      key-field=\"_key\"\r\n      v-on=\"$listeners\"\r\n    >\r\n      <template #group-by=\"group\">\r\n        <div\r\n          class=\"project-bar\"\r\n          :class=\"{'has-description': projectDescription(group.group)}\"\r\n        >\r\n          <div\r\n            v-trim-whitespace\r\n            class=\"group-tab\"\r\n          >\r\n            <div\r\n              v-clean-html=\"projectLabel(group.group)\"\r\n              class=\"project-name\"\r\n            />\r\n            <div\r\n              v-if=\"projectDescription(group.group)\"\r\n              class=\"description text-muted text-small\"\r\n            >\r\n              {{ projectDescription(group.group) }}\r\n            </div>\r\n          </div>\r\n          <div class=\"right\">\r\n            <n-link\r\n              v-if=\"isNamespaceCreatable && (canSeeProjectlessNamespaces || group.group.key !== notInProjectKey)\"\r\n              class=\"create-namespace btn btn-sm role-secondary mr-5\"\r\n              :to=\"createNamespaceLocation(group.group)\"\r\n            >\r\n              {{ t('projectNamespaces.createNamespace') }}\r\n            </n-link>\r\n            <button\r\n              type=\"button\"\r\n              class=\"project-action btn btn-sm role-multi-action actions mr-10\"\r\n              :class=\"{invisible: !showProjectActionButton(group.group)}\"\r\n              @click=\"showProjectAction($event, group.group)\"\r\n            >\r\n              <i class=\"icon icon-actions\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <template #cell:project=\"{row}\">\r\n        <span v-if=\"row.project\">{{ row.project.nameDisplay }}</span>\r\n        <span\r\n          v-else\r\n          class=\"text-muted\"\r\n        >&ndash;</span>\r\n      </template>\r\n      <template #cell:name=\"{row}\">\r\n        <div class=\"namespace-name\">\r\n          <n-link\r\n            v-if=\"row.detailLocation && !row.hideDetailLocation\"\r\n            :to=\"row.detailLocation\"\r\n          >\r\n            {{ row.name }}\r\n          </n-link>\r\n          <span v-else>\r\n            {{ row.name }}\r\n          </span>\r\n          <i\r\n            v-if=\"row.injectionEnabled\"\r\n            v-clean-tooltip=\"t('projectNamespaces.isIstioInjectionEnabled')\"\r\n            class=\"icon icon-istio ml-5\"\r\n          />\r\n          <i\r\n            v-if=\"row.hasSystemLabels\"\r\n            v-clean-tooltip=\"getPsaTooltip(row)\"\r\n            class=\"icon icon-lock ml-5\"\r\n          />\r\n        </div>\r\n      </template>\r\n      <template\r\n        v-for=\"project in projectsWithoutNamespaces\"\r\n        v-slot:[slotName(project)]\r\n      >\r\n        <tr\r\n          :key=\"project.id\"\r\n          class=\"main-row\"\r\n        >\r\n          <td\r\n            class=\"empty text-center\"\r\n            colspan=\"5\"\r\n          >\r\n            {{ t('projectNamespaces.noNamespaces') }}\r\n          </td>\r\n        </tr>\r\n      </template>\r\n      <template #main-row:fake-empty>\r\n        <tr class=\"main-row\">\r\n          <td\r\n            class=\"empty text-center\"\r\n            colspan=\"5\"\r\n          >\r\n            {{ t('projectNamespaces.noProjectNoNamespaces') }}\r\n          </td>\r\n        </tr>\r\n      </template>\r\n    </ResourceTable>\r\n    <MoveModal @moving=\"clearSelection\" />\r\n  </div>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n.project-namespaces {\r\n  & ::v-deep {\r\n    .project-name {\r\n      line-height: 30px;\r\n    }\r\n\r\n    .project-bar {\r\n      display: flex;\r\n      flex-direction: row;\r\n      justify-content: space-between;\r\n\r\n      &.has-description {\r\n        .right {\r\n          margin-top: 5px;\r\n        }\r\n        .group-tab {\r\n          &, &::after {\r\n              height: 50px;\r\n          }\r\n\r\n          &::after {\r\n              right: -20px;\r\n          }\r\n\r\n          .description {\r\n              margin-top: -20px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .namespace-name {\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      .icon-istio {\r\n        color: var(--primary);\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n  .psa-tooltip {\r\n    // These could pop up a lot as the mouse moves around, keep them as small and unintrusive as possible\r\n    // (easier to test with v-clean-tooltip=\"{ content: getPSA(row), autoHide: false, show: true }\")\r\n    margin: 3px 0;\r\n    padding: 0 8px 0 22px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplorerProjectsNamespaces.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplorerProjectsNamespaces.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExplorerProjectsNamespaces.vue?vue&type=template&id=45db6e32&scoped=true&\"\nimport script from \"./ExplorerProjectsNamespaces.vue?vue&type=script&lang=js&\"\nexport * from \"./ExplorerProjectsNamespaces.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ExplorerProjectsNamespaces.vue?vue&type=style&index=0&id=45db6e32&prod&lang=scss&scoped=true&\"\nimport style1 from \"./ExplorerProjectsNamespaces.vue?vue&type=style&index=1&id=45db6e32&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45db6e32\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport ExplorerProjectsNamespaces from '@shell/components/ExplorerProjectsNamespaces';\nexport default { components: { ExplorerProjectsNamespaces } };\n</script>\n\n<template><ExplorerProjectsNamespaces v-bind=\"$attrs\" /></template>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./projectsnamespaces.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./projectsnamespaces.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./projectsnamespaces.vue?vue&type=template&id=7089ede9&\"\nimport script from \"./projectsnamespaces.vue?vue&type=script&lang=js&\"\nexport * from \"./projectsnamespaces.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}