{"version":3,"sources":["webpack:///./shell/pages/c/_cluster/explorer/explorer-utils.js","webpack:///./shell/pages/c/_cluster/explorer/EventsTable.vue","webpack:///shell/pages/c/_cluster/explorer/EventsTable.vue","webpack:///./shell/pages/c/_cluster/explorer/EventsTable.vue?273b","webpack:///./shell/pages/c/_cluster/explorer/EventsTable.vue?7775"],"names":["fetchClusterResources","_x","_x2","_fetchClusterResources","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","store","type","opt","schema","resources","_args","wrap","_context","prev","next","length","undefined","getters","dispatch","sent","abrupt","t0","console","error","concat","stop","render","_vm","this","_c","_self","attrs","$fetchState","pending","events","eventHeaders","staticRenderFns","components","SortableTable","fetch","_this","$store","EVENT","data","reason","_objectSpread","REASON","canBeVariable","width","OBJECT","MESSAGE","NAME","name","label","labelKey","value","sort","formatter","defaultSort","component"],"mappings":"gSAAO,SAAeA,EAAqBC,EAAAC,GAAA,OAAAC,EAAAC,MAAC,KAADC,WAgB1C,SAAAF,IAAA,OAAAA,EAAAG,eAAAC,IAAAC,MAhBM,SAAAC,EAAqCC,EAAOC,GAAI,IAAAC,EAAAC,EAAAC,EAAAC,EAAAV,UAAA,OAAAE,IAAAS,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACE,GADAP,EAAGG,EAAAK,OAAA,QAAAC,IAAAN,EAAA,GAAAA,EAAA,GAAG,GACvDF,EAASH,EAAMY,QAAQ,qBAAqBX,IAE9CE,EAAQ,CAAFI,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEkBT,EAAMa,SAAS,kBAAmB,CAAEZ,OAAMC,QAAM,OAAzD,OAATE,EAASG,EAAAO,KAAAP,EAAAQ,OAAA,SAERX,GAAS,QAE8D,OAF9DG,EAAAC,KAAA,GAAAD,EAAAS,GAAAT,EAAA,YAEhBU,QAAQC,MAAM,oCAADC,OAAsClB,EAAI,gBAAAM,EAAAS,IAAuBT,EAAAQ,OAAA,SAEvE,IAAE,eAAAR,EAAAQ,OAAA,SAIN,IAAE,yBAAAR,EAAAa,UAAArB,EAAA,mBACVN,EAAAC,MAAA,KAAAC,a,yCChBD,IAAI0B,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,gBAAgB,CAACE,MAAM,CAAC,QAAUJ,EAAIK,YAAYC,QAAQ,KAAON,EAAIO,OAAO,QAAUP,EAAIQ,aAAa,YAAY,KAAK,QAAS,EAAM,iBAAgB,EAAM,eAAc,EAAM,QAAS,EAAK,gBAAgB,GAAG,kBAAkB,WAEtSC,EAAkB,G,6vBCKP,OACfC,WAAA,CAAAC,sBAEAC,MAAA,eAAAC,EAAA,YAAAvC,eAAAC,IAAAC,MAAA,SAAAC,IAAA,OAAAF,IAAAS,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACAnB,mCAAA6C,EAAAC,OAAAC,QAAA,OAAAF,EAAAN,OAAAtB,EAAAO,KAAA,wBAAAP,EAAAa,UAAArB,MADAH,IAIA0C,KAAA,WACA,IAAAC,EAAAC,MAAA,GACAC,SACA,CAAAC,eAAA,QACAC,MAAA,MAGAb,EAAA,CACAS,EACAK,QACAC,OACAC,OACA,CACAC,KAAA,OACAC,MAAA,OACAC,SAAA,8CACAC,MAAA,YACAC,KAAA,iBACAC,UAAA,OACAT,MAAA,IACAU,aAAA,IAIA,OACAxB,OAAA,GACAC,kBCxCqX,I,YCOjXwB,EAAY,eACd,EACAjC,EACAU,GACA,EACA,KACA,KACA,MAIa,aAAAuB,E","file":"js/pages/c/_cluster/explorer/EventsTable.4f89cc4b.js","sourcesContent":["export async function fetchClusterResources(store, type, opt = {}) {\n  const schema = store.getters['cluster/schemaFor'](type);\n\n  if (schema) {\n    try {\n      const resources = await store.dispatch('cluster/findAll', { type, opt });\n\n      return resources;\n    } catch (err) {\n      console.error(`Failed fetching cluster resource ${ type } with error:`, err); // eslint-disable-line no-console\n\n      return [];\n    }\n  }\n\n  return [];\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('SortableTable',{attrs:{\"loading\":_vm.$fetchState.pending,\"rows\":_vm.events,\"headers\":_vm.eventHeaders,\"key-field\":\"id\",\"search\":false,\"table-actions\":false,\"row-actions\":false,\"paging\":true,\"rows-per-page\":10,\"default-sort-by\":\"date\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\n\nimport SortableTable from '@shell/components/SortableTable';\nimport { MESSAGE, NAME, OBJECT, REASON } from '@shell/config/table-headers';\nimport { EVENT } from '@shell/config/types';\nimport { fetchClusterResources } from './explorer-utils';\n\nexport default {\n  components: { SortableTable },\n\n  async fetch() {\n    this.events = await fetchClusterResources(this.$store, EVENT);\n  },\n\n  data() {\n    const reason = {\n      ...REASON,\n      ...{ canBeVariable: true },\n      width: 130,\n    };\n\n    const eventHeaders = [\n      reason,\n      OBJECT,\n      MESSAGE,\n      NAME,\n      {\n        name:        'date',\n        label:       'Date',\n        labelKey:    'clusterIndexPage.sections.events.date.label',\n        value:       'timestamp',\n        sort:        'timestamp:desc',\n        formatter:   'Date',\n        width:       220,\n        defaultSort: true,\n      },\n    ];\n\n    return {\n      events: [],\n      eventHeaders,\n    };\n  }\n};\n</script>\n\n<template>\n  <SortableTable\n    :loading=\"$fetchState.pending\"\n    :rows=\"events\"\n    :headers=\"eventHeaders\"\n    key-field=\"id\"\n    :search=\"false\"\n    :table-actions=\"false\"\n    :row-actions=\"false\"\n    :paging=\"true\"\n    :rows-per-page=\"10\"\n    default-sort-by=\"date\"\n  />\n</template>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EventsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EventsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventsTable.vue?vue&type=template&id=79a8eb4e&\"\nimport script from \"./EventsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./EventsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}