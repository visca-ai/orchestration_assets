{"version":3,"sources":["webpack:///./shell/pages/c/_cluster/neuvector/index.vue","webpack:///shell/pages/c/_cluster/neuvector/index.vue","webpack:///./shell/pages/c/_cluster/neuvector/index.vue?2ffc","webpack:///./shell/pages/c/_cluster/neuvector/index.vue?4ed0","webpack:///./shell/utils/install-redirect.js"],"names":["render","_vm","this","_c","_self","staticClass","attrs","_v","_l","externalLinks","fel","key","label","link","iconSrc","description","staticRenderFns","components","LazyImage","middleware","InstallRedirect","NAME","CHART_NAME","undefined","data","neuvectorImgSrc","require","computed","_objectSpread","mapGetters","mounted","enabled","concat","currentCluster","id","NEU_VECTOR_NAMESPACE","component","product","chartName","defaultResourceOrRoute","install","arguments","length","_middleware","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","_store$getters$curren","redirect","store","cluster","chart","_query","wrap","_context","prev","next","getters","_typeof","abrupt","name","params","resource","dispatch","force","query","_defineProperty","REPO_TYPE","repoType","REPO","repoName","CHART","VERSION","versions","version","stop","_x","apply"],"mappings":"6KAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,UAAU,CAACA,EAAG,SAAS,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACA,EAAG,IAAI,CAACG,MAAM,CAAC,EAAI,+BAA+B,GAAGL,EAAIM,GAAG,KAAKJ,EAAG,MAAM,CAACA,EAAG,IAAI,CAACG,MAAM,CAAC,EAAI,8BAA8B,KAAM,MAAS,OAAOL,EAAIM,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,SAASJ,EAAIO,GAAIP,EAAIQ,eAAe,SAASC,GAAK,OAAOP,EAAG,MAAM,CAACQ,IAAID,EAAIE,MAAMP,YAAY,kBAAkB,CAACF,EAAG,IAAI,CAACG,MAAM,CAAC,KAAOI,EAAIG,KAAK,OAAS,SAAS,IAAM,wBAAwB,CAACV,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,IAAMI,EAAII,YAAY,GAAGb,EAAIM,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,IAAI,CAACG,MAAM,CAAC,EAAII,EAAIE,SAASX,EAAIM,GAAG,KAAKJ,EAAG,IAAI,CAACE,YAAY,uCAAuCJ,EAAIM,GAAG,KAAKJ,EAAG,MAAMF,EAAIM,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACG,MAAM,CAAC,EAAII,EAAIK,gBAAgB,IAAI,UAAS,MAE13BC,EAAkB,G,ktBCOP,OACfC,WAAA,CAAAC,kBAEAC,WAAAC,eAAAC,UAAAC,qBAAAC,GAAA,GAEAC,KAAA,WACA,OACAf,cAAA,GACAgB,gBAAAC,EAAA,WAIAC,SAAAC,EAAA,GAAAC,eAAA,qBAEAC,QAAA,WACA,KAAArB,cAAA,CACA,CACAsB,SAAA,EACAjB,QAAA,KAAAW,gBACAb,MAAA,gDACAG,YAAA,sDACAF,KAAA,iBAAAmB,OAAA,KAAAC,eAAAC,GAAA,uBAAAF,OAAAG,0BAAA,0DC9B+W,I,YCO3WC,EAAY,eACd,EACApC,EACAgB,GACA,EACA,KACA,KACA,MAIa,aAAAoB,E,gIChBA,gBAASC,EAASC,EAAWC,GAAwC,IAAhBC,IAAOC,UAAAC,OAAA,QAAAnB,IAAAkB,UAAA,KAAAA,UAAA,GACzE,sBAAAE,EAAAC,eAAAC,IAAAC,MAAO,SAAAC,EAAAC,GAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAT,IAAAU,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACyD,GAD7BR,EAAQF,EAARE,SAAUC,EAAKH,EAALG,MACrCC,GAAyC,QAA/BH,EAAAE,EAAMQ,QAAQ,yBAAiB,IAAAV,OAAA,EAA/BA,EAAiCf,KAAM,SAElDiB,EAAMQ,QAAQ,4BAA4BtB,GAAQ,CAAAmB,EAAAE,KAAA,YAGhDnB,EAAsB,CAAAiB,EAAAE,KAAA,WACc,WAAlCE,eAAOrB,GAAmC,CAAAiB,EAAAE,KAAA,eAAAF,EAAAK,OAAA,SACtCX,EAASX,IAAuB,cAAAiB,EAAAK,OAAA,SAGlCX,EAAS,CACdY,KAAQ,6BACRC,OAAQ,CACNX,UACAf,UACA2B,SAAUzB,MAEZ,OAAAiB,EAAAE,KAAA,oBAIKlB,EAAS,CAAFgB,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAGVP,EAAMc,SAAS,eAAgB,CAAEC,OAAO,IAAO,QAEM,GAArDb,EAAQF,EAAMQ,QAAQ,iBAAiB,CAAErB,eAE1Ce,EAAK,CAAAG,EAAAE,KAAA,gBAAAF,EAAAK,OAAA,SACDX,EAAS,CACdY,KAAQ,8BACRC,OAAQ,CAAEX,WACVe,OAAKb,EAAA,GAAAc,eAAAd,EACFe,OAAYhB,EAAMiB,UAAQF,eAAAd,EAC1BiB,OAAYlB,EAAMmB,UAAQJ,eAAAd,EAC1BmB,OAAYpB,EAAMf,WAAS8B,eAAAd,EAC3BoB,OAAYrB,EAAMsB,SAAS,GAAGC,SAAOtB,MAExC,QAGFH,EAAMc,SAAS,eAAgB,uBAAFjC,OAA0BK,IAAY,QAAAmB,EAAAE,KAAA,wBAAAF,EAAAK,OAAA,SAG9DX,EAAS,CACdY,KAAQ,qBACRC,OAAQ,CAAEX,cACV,yBAAAI,EAAAqB,UAAA9B,OAEL,SAlDqB5B,EAAU2D,GAAA,OAAAnC,EAAAoC,MAAC,KAADtC,WAAA,OAAVtB,EAAtB","file":"js/pages/c/_cluster/neuvector/index.b0830ff1.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',[_c('header',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-12\"},[_c('h1',[_c('t',{attrs:{\"k\":\"neuvector.overview.title\"}})],1),_vm._v(\" \"),_c('div',[_c('t',{attrs:{\"k\":\"neuvector.overview.subtitle\",\"raw\":true}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"links\"},_vm._l((_vm.externalLinks),function(fel){return _c('div',{key:fel.label,staticClass:\"link-container\"},[_c('a',{attrs:{\"href\":fel.link,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_c('div',{staticClass:\"link-logo\"},[_c('LazyImage',{attrs:{\"src\":fel.iconSrc}})],1),_vm._v(\" \"),_c('div',{staticClass:\"link-content\"},[_c('t',{attrs:{\"k\":fel.label}}),_vm._v(\" \"),_c('i',{staticClass:\"icon icon-external-link pull-right\"}),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',{staticClass:\"description\"},[_c('t',{attrs:{\"k\":fel.description}})],1)],1)])])}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\n\nimport InstallRedirect from '@shell/utils/install-redirect';\n\nimport { NAME, CHART_NAME, NEU_VECTOR_NAMESPACE } from '@shell/config/product/neuvector';\n\nimport LazyImage from '@shell/components/LazyImage';\n\nexport default {\n  components: { LazyImage },\n\n  middleware: InstallRedirect(NAME, CHART_NAME, undefined, false),\n\n  data() {\n    return {\n      externalLinks:   [],\n      neuvectorImgSrc: require('~shell/assets/images/vendor/neuvector.svg'),\n    };\n  },\n\n  computed: { ...mapGetters(['currentCluster']) },\n\n  mounted() {\n    this.externalLinks = [\n      {\n        enabled:     true,\n        iconSrc:     this.neuvectorImgSrc,\n        label:       'neuvector.overview.linkedList.neuvector.label',\n        description: 'neuvector.overview.linkedList.neuvector.description',\n        link:        `/k8s/clusters/${ this.currentCluster.id }/api/v1/namespaces/${ NEU_VECTOR_NAMESPACE }/services/https:neuvector-service-webui:8443/proxy`\n      },\n    ];\n  }\n};\n</script>\n\n<template>\n  <section>\n    <header class=\"row\">\n      <div class=\"col span-12\">\n        <h1>\n          <t k=\"neuvector.overview.title\" />\n        </h1>\n        <div>\n          <t\n            k=\"neuvector.overview.subtitle\"\n            :raw=\"true\"\n          />\n        </div>\n      </div>\n    </header>\n    <div class=\"links\">\n      <div\n        v-for=\"fel in externalLinks\"\n        :key=\"fel.label\"\n        class=\"link-container\"\n      >\n        <a\n          :href=\"fel.link\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <div class=\"link-logo\">\n            <LazyImage :src=\"fel.iconSrc\" />\n          </div>\n          <div class=\"link-content\">\n            <t :k=\"fel.label\" />\n            <i class=\"icon icon-external-link pull-right\" />\n            <hr>\n            <div class=\"description\"><t :k=\"fel.description\" /></div>\n          </div>\n        </a>\n      </div>\n    </div>\n  </section>\n</template>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=11aff5b8&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { REPO_TYPE, REPO, CHART, VERSION } from '@shell/config/query-params';\n\nexport default function(product, chartName, defaultResourceOrRoute, install = true) {\n  return async function middleware({ redirect, store } ) {\n    const cluster = store.getters['currentCluster']?.id || 'local';\n\n    if ( store.getters['type-map/isProductActive'](product) ) {\n      // If the product is installed and there's a default resource, redirect there\n\n      if ( defaultResourceOrRoute ) {\n        if ( typeof defaultResourceOrRoute === 'object' ) {\n          return redirect(defaultResourceOrRoute);\n        }\n\n        return redirect({\n          name:   'c-cluster-product-resource',\n          params: {\n            cluster,\n            product,\n            resource: defaultResourceOrRoute\n          },\n        });\n      }\n\n      // Otherwise just let the middleware pass through\n    } else if (install) {\n      // The product is not installed, redirect to the details chart\n\n      await store.dispatch('catalog/load', { force: true });\n\n      const chart = store.getters['catalog/chart']({ chartName });\n\n      if ( chart ) {\n        return redirect({\n          name:   'c-cluster-apps-charts-chart',\n          params: { cluster },\n          query:  {\n            [REPO_TYPE]: chart.repoType,\n            [REPO]:      chart.repoName,\n            [CHART]:     chart.chartName,\n            [VERSION]:   chart.versions[0].version\n          },\n        });\n      } else {\n        // The chart's not available\n        store.dispatch('loadingError', `Chart not found for ${ product }`);\n      }\n    } else {\n      return redirect({\n        name:   'c-cluster-explorer',\n        params: { cluster },\n      });\n    }\n  };\n}\n"],"sourceRoot":""}